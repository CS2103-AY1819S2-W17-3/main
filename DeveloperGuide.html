<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>In-Credit-Ble - Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level3">AB-3</a></li><li class="nav-item"><a class="nav-link active" href="index.html">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html">AddressBook-Level4</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level4"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>In-Credit-Ble - Developer Guide</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>Team W17-3</code>      Since: <code>March 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#setting-up">2. Setting Up</a>
<ul class="sectlevel2">
<li><a href="#prerequisites">2.1. Prerequisites</a></li>
<li><a href="#setting-up-the-project-in-your-computer">2.2. Setting up the project in your computer</a></li>
<li><a href="#verifying-the-setup">2.3. Verifying the setup</a></li>
<li><a href="#configurations-to-do-before-writing-code">2.4. Configurations to do before writing code</a></li>
</ul>
</li>
<li><a href="#design">3. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">3.1. Architecture</a></li>
<li><a href="#Design-Ui">3.2. UI component</a></li>
<li><a href="#Design-Logic">3.3. Logic component</a></li>
<li><a href="#Design-Model">3.4. Model component</a></li>
<li><a href="#Design-Storage">3.5. Storage component</a></li>
<li><a href="#Design-Commons">3.6. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">4. Implementation</a>
<ul class="sectlevel2">
<li><a href="#search-feature">4.1. Search feature</a></li>
<li><a href="#sort-feature">4.2. Sort feature</a></li>
<li><a href="#reverse-feature">4.3. Reverse feature</a></li>
<li><a href="#undo-redo-feature">4.4. Undo/Redo feature</a></li>
<li><a href="#budget-management">4.5. Budget Management</a></li>
<li><a href="#summary">4.6. Summary</a></li>
<li><a href="#theme">4.7. Theme</a></li>
<li><a href="#logging">4.8. Logging</a></li>
<li><a href="#Implementation-Configuration">4.9. Configuration</a></li>
</ul>
</li>
<li><a href="#documentation">5. Documentation</a>
<ul class="sectlevel2">
<li><a href="#editing-documentation">5.1. Editing Documentation</a></li>
<li><a href="#publishing-documentation">5.2. Publishing Documentation</a></li>
<li><a href="#converting-documentation-to-pdf-format">5.3. Converting Documentation to PDF format</a></li>
<li><a href="#Docs-SiteWideDocSettings">5.4. Site-wide Documentation Settings</a></li>
<li><a href="#Docs-PerFileDocSettings">5.5. Per-file Documentation Settings</a></li>
<li><a href="#site-template">5.6. Site Template</a></li>
</ul>
</li>
<li><a href="#Testing">6. Testing</a>
<ul class="sectlevel2">
<li><a href="#running-tests">6.1. Running Tests</a></li>
<li><a href="#types-of-tests">6.2. Types of tests</a></li>
<li><a href="#troubleshooting-testing">6.3. Troubleshooting Testing</a></li>
</ul>
</li>
<li><a href="#dev-ops">7. Dev Ops</a>
<ul class="sectlevel2">
<li><a href="#build-automation">7.1. Build Automation</a></li>
<li><a href="#continuous-integration">7.2. Continuous Integration</a></li>
<li><a href="#coverage-reporting">7.3. Coverage Reporting</a></li>
<li><a href="#documentation-previews">7.4. Documentation Previews</a></li>
<li><a href="#making-a-release">7.5. Making a Release</a></li>
<li><a href="#managing-dependencies">7.6. Managing Dependencies</a></li>
</ul>
</li>
<li><a href="#product-scope">Appendix A: Product Scope</a></li>
<li><a href="#user-stories">8. User Stories</a></li>
<li><a href="#use-cases">9. Use Cases</a></li>
<li><a href="#non-functional-requirements">10. Non Functional Requirements</a></li>
<li><a href="#glossary">11. Glossary</a></li>
<li><a href="#product-survey">12. Product Survey</a></li>
<li><a href="#instructions-for-manual-testing">13. Instructions for Manual Testing</a>
<ul class="sectlevel2">
<li><a href="#launch-and-shutdown">13.1. Launch and Shutdown</a></li>
<li><a href="#setting-a-budget-2">13.2. Setting a budget</a></li>
<li><a href="#allocating-category-budgets-and-showing-allocated-category-budgets">13.3. Allocating category budgets and showing allocated category budgets</a></li>
<li><a href="#adding-an-expense">13.4. Adding an expense</a></li>
<li><a href="#editing-an-expense">13.5. Editing an expense</a></li>
<li><a href="#deleting-an-entry">13.6. Deleting an entry</a></li>
<li><a href="#searching-an-entry">13.7. Searching an entry</a></li>
<li><a href="#sorting-the-entries">13.8. Sorting the entries</a></li>
<li><a href="#obtaining-a-summary-of-entries">13.9. Obtaining a summary of entries</a></li>
<li><a href="#changing-the-finance-tracker-data-storage-location">13.10. Changing the Finance Tracker data storage location</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="blue">Welcome to the <em>In-Credit-Ble</em> Developer Guide!</span></p>
</div>
<div class="paragraph">
<p><em>In-Credit-Ble</em> is a finance tracker application created to simplify the managing and tracking
of the user’s personal finances. With <em>In-Credit-Ble</em>, users will be able to stick to their budget
and be more aware of their spending habits.</p>
</div>
<div class="paragraph">
<p>This developer guide specifies the design and implementation of <em>In-Credit-Ble</em>. The intended audience of
this document is the developers, designers and software testers of our application.</p>
</div>
<div class="paragraph">
<p>Please continue on to the <a href="#setting-up"><span class="underline blue">Setting Up</span></a> section to get started. You can also read <a href="AboutUs.html"><span class="blue">AboutUs.adoc</span></a>
and <a href="ContactUs.html"><span class="blue">ContactUs.adoc</span></a> for more information on how to contact us!</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="setting-up"><a class="link" href="#setting-up">2. Setting Up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br></p>
</div>
<div class="sect2">
<h3 id="prerequisites"><a class="link" href="#prerequisites">2.1. Prerequisites</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>JDK <code><span class="fuchsia">9</span></code></strong> or later</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
JDK <code><span class="fuchsia">10</span></code> on Windows will fail to run tests in <a href="UsingGradle.html#Running-Tests"><span class="blue">headless mode</span></a> due to a <a href="https://github.com/javafxports/openjdk-jfx/issues/66"><span class="blue">JavaFX bug</span></a>.
Windows developers are highly recommended to use JDK <code><span class="fuchsia">9</span></code>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>IntelliJ</strong> IDE</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
IntelliJ by default has Gradle and JavaFx plugins installed.<br>
Do not disable them. If you have disabled them, go to <span class="menuseq"><b class="menu">File</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Settings</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Plugins</b></span> to re-enable them.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-the-project-in-your-computer"><a class="link" href="#setting-up-the-project-in-your-computer">2.2. Setting up the project in your computer</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fork this repo, and clone the fork to your computer.</p>
</li>
<li>
<p>Open IntelliJ (if you are not in the welcome screen, click <span class="menuseq"><b class="menu">File</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Close Project</b></span> to close the existing project dialog first).</p>
</li>
<li>
<p>Set up the correct JDK version for Gradle.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <span class="menuseq"><b class="menu">Configure</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Project Defaults</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Project Structure</b></span></p>
</li>
<li>
<p>Click <b class="button">New&#8230;&#8203;</b> and find the directory of the JDK.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <b class="button">Import Project</b></p>
</li>
<li>
<p>Locate the <code><span class="fuchsia">build.gradle</span></code> file and select it. Click <b class="button">OK</b></p>
</li>
<li>
<p>Click <b class="button">Open as Project</b></p>
</li>
<li>
<p>Click <b class="button">OK</b> to accept the default settings.</p>
</li>
<li>
<p>Open a console and run the command <code><span class="fuchsia">gradlew processResources</span></code> (Mac/Linux: <code><span class="fuchsia">./gradlew processResources</span></code>). It should finish with the <code><span class="fuchsia">BUILD SUCCESSFUL</span></code> message.<br>
This will generate all resources required by the application and tests.</p>
</li>
<li>
<p>Open <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/src/main/java/seedu/finance/ui/MainWindow.java"><code><span class="blue">MainWindow.java</span></code></a> and check for any code errors.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Due to an ongoing <a href="https://youtrack.jetbrains.com/issue/IDEA-189060"><span class="blue">issue</span></a> with some of the newer versions of IntelliJ, code errors may be detected even if the project can be built and run successfully.</p>
</li>
<li>
<p>To resolve this, place your cursor over any of the code section highlighted in <span class="red">red</span>. Press <span class="keyseq"><kbd>ALT</kbd>+<kbd>ENTER</kbd></span>, and select <b class="button">Add '--add-modules=&#8230;&#8203;' to module compiler options</b> for each error.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Repeat this for the test folder as well (<span class="navy">e.g.</span> check <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/src/test/java/seedu/finance/ui/HelpWindowTest.java"><code><span class="blue">HelpWindowTest.java</span></code></a> for code errors, and if so, resolve it the same way).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="verifying-the-setup"><a class="link" href="#verifying-the-setup">2.3. Verifying the setup</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run <code><span class="fuchsia">seedu.finance.MainApp</span></code> and try a few commands.</p>
</li>
<li>
<p><a href="#Testing"><span class="underline blue">Run the tests</span></a> to ensure they all pass.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="configurations-to-do-before-writing-code"><a class="link" href="#configurations-to-do-before-writing-code">2.4. Configurations to do before writing code</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="sect3">
<h4 id="configuring-the-coding-style"><a class="link" href="#configuring-the-coding-style">2.4.1. Configuring the coding style</a></h4>
<div class="paragraph">
<p><br>
This project follows <a href="https://github.com/oss-generic/process/blob/master/docs/CodingStandards.adoc"><span class="blue">oss-generic coding standards</span></a>. IntelliJ&#8217;s default style is mostly compliant with ours but it uses a different import order from ours. To rectify,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <span class="menuseq"><b class="menu">File</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Settings&#8230;&#8203;</b></span> (Windows/Linux), or <span class="menuseq"><b class="menu">IntelliJ IDEA</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Preferences&#8230;&#8203;</b></span> (macOS).</p>
</li>
<li>
<p>Select <span class="menuseq"><b class="menu">Editor</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Code Style</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Java</b></span></p>
</li>
<li>
<p>Click on the <b class="button">Imports</b> tab to set the order.</p>
<div class="ulist">
<ul>
<li>
<p>For <b class="button">Class count to use import with '*'</b> and <b class="button">Names count to use static import with '*'</b>: Set to <code><span class="fuchsia">999</span></code> to prevent IntelliJ from contracting the import statements.</p>
</li>
<li>
<p>For <b class="button">Import Layout</b>: The order is <code><span class="fuchsia">import static all other imports</span></code>, <code><span class="fuchsia">import java.*</span></code>, <code><span class="fuchsia">import javax.*</span></code>, <code><span class="fuchsia">import org.*</span></code>, <code><span class="fuchsia">import com.*</span></code>, <code><span class="fuchsia">import all other imports</span></code>. Add a <b class="button">&lt;blank line&gt;</b> between each <code><span class="fuchsia">import</span></code>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Optionally, you can follow the <a href="UsingCheckstyle.html"><span class="blue">UsingCheckstyle.adoc</span></a> document to configure Intellij to check style-compliance as you write code.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="updating-documentation-to-match-your-fork"><a class="link" href="#updating-documentation-to-match-your-fork">2.4.2. Updating documentation to match your fork</a></h4>
<div class="paragraph">
<p><br>
After forking the repo, the documentation will still refer to the <code><span class="fuchsia">CS2103-AY1819S2-W17-3/main</span></code> repo.</p>
</div>
<div class="paragraph">
<p>If you plan to develop this fork as a separate product (i.e. instead of contributing to <code><span class="fuchsia">In-Credit-Ble</span></code>), you should do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Configure the <a href="#Docs-SiteWideDocSettings"><span class="underline blue">site-wide documentation settings</span></a> in <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/build.gradle"><code><span class="blue">build.gradle</span></code></a>, such as the <code><span class="fuchsia">site-name</span></code>, to suit your own project.</p>
</li>
<li>
<p>Replace the URL in the attribute <code><span class="fuchsia">repoURL</span></code> in <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/docs/DeveloperGuide.adoc"><code><span class="blue">DeveloperGuide.adoc</span></code></a> and <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/docs/UserGuide.adoc"><code><span class="blue">UserGuide.adoc</span></code></a> with the URL of your fork.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="setting-up-ci"><a class="link" href="#setting-up-ci">2.4.3. Setting up CI</a></h4>
<div class="paragraph">
<p><br>
Set up Travis to perform Continuous Integration (CI) for your fork. See <a href="UsingTravis.html"><span class="blue">UsingTravis.adoc</span></a> to learn how to set it up.</p>
</div>
<div class="paragraph">
<p>After setting up Travis, you can optionally set up coverage reporting for your team fork (see <a href="UsingCoveralls.html"><span class="blue">UsingCoveralls.adoc</span></a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Coverage reporting could be useful for a team repository that hosts the final version but it is not that useful for your personal fork.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Optionally, you can set up AppVeyor as a second CI (see <a href="UsingAppVeyor.html"><span class="blue">UsingAppVeyor.adoc</span></a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having both Travis and AppVeyor ensures your App works on both Unix-based platforms and Windows-based platforms (Travis is Unix-based and AppVeyor is Windows-based)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-with-coding"><a class="link" href="#getting-started-with-coding">2.4.4. Getting started with coding</a></h4>
<div class="paragraph">
<p><br>
When you are ready to start coding,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get some sense of the overall design by reading <span class="underline blue"><a href="#Design-Architecture">Section 3.1, &#8220;Architecture&#8221;</a></span>.</p>
</li>
<li>
<p>Take a look at <span class="underline blue"><a href="#GetStartedProgramming">[GetStartedProgramming]</a></span>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="design"><a class="link" href="#design">3. Design</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br></p>
</div>
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">3.1. Architecture</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Architecture.png" alt="Architecture" width="600">
</div>
<div class="title">Figure 1. Architecture Diagram</div>
</div>
<div class="paragraph">
<p><br>
The <strong><em>Architecture Diagram</em></strong> above explains the high-level design of <em>In-Credit-Ble</em>. Given below is a quick overview of each component.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code><span class="fuchsia">.pptx</span></code> files used to create diagrams in this document can be found in the link:https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/docs/diagrams/<span class="[blue">diagrams</span>] folder.
To update a diagram, modify the diagram in the pptx file, select the objects of the diagram, and choose <b class="button">Save as picture</b>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code><span class="fuchsia">Main</span></code> has only one class called <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/src/main/java/seedu/finance/MainApp.java"><code><span class="blue">MainApp</span></code></a>. It is responsible for,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>App launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>App shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br>
<a href="#Design-Commons"><strong><code><span class="underline blue">Commons</span></code></strong></a> represents a collection of classes used by multiple other components.
The following class plays an important role at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><span class="fuchsia">LogsCenter</span></code> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br>
The rest of the App consists of four components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Design-Ui"><strong><code><span class="underline blue">UI</span></code></strong></a>: The UI of the App.</p>
</li>
<li>
<p><a href="#Design-Logic"><strong><code><span class="underline blue">Logic</span></code></strong></a>: The command executor.</p>
</li>
<li>
<p><a href="#Design-Model"><strong><code><span class="underline blue">Model</span></code></strong></a>: Holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#Design-Storage"><strong><code><span class="underline blue">Storage</span></code></strong></a>: Reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br>
Each of the four components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <code><span class="fuchsia">interface</span></code> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <code><span class="fuchsia">{Component Name}Manager</span></code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code><span class="fuchsia">Logic</span></code> component (see the class diagram given below) defines its API in the <code><span class="fuchsia">Logic.java</span></code> interface and
exposes its functionality using the <code><span class="fuchsia">LogicManager.java</span></code> class.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="700">
</div>
<div class="title">Figure 2. Class Diagram of the Logic Component</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
<h4 id="how-do-the-architecture-components-interact-with-each-other" class="discrete">How do the architecture components interact with each other?</h4>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below shows how the components interact with each other for the scenario where the user issues the command <code><span class="fuchsia">delete 1</span></code>.
<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDeleteRecord.png" alt="SDforDeleteRecord" width="800">
</div>
<div class="title">Figure 3. Component interactions for <code><span class="fuchsia">delete 1</span></code> command</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">3.2. UI component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram" width="700">
</div>
<div class="title">Figure 4. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><br>
<strong>API</strong> : <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/src/main/java/seedu/finance/ui/Ui.java"><code><span class="blue">Ui.java</span></code></a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code><span class="fuchsia">MainWindow</span></code> that is made up of parts <span class="navy">e.g.</span> <code><span class="fuchsia">CommandBox</span></code>, <code><span class="fuchsia">ResultDisplay</span></code>, <code><span class="fuchsia">RecordListPanel</span></code>,
<code><span class="fuchsia">StatusBarFooter</span></code>, <code><span class="fuchsia">BrowserPanel</span></code>, <code><span class="fuchsia">BudgetPanel</span></code>, <code><span class="fuchsia">SummaryPanel</span></code> etc. All these, including the <code><span class="fuchsia">MainWindow</span></code>,
inherit from the abstract <code><span class="fuchsia">UiPart</span></code> class.</p>
</div>
<div class="paragraph">
<p>The <code><span class="fuchsia">UI</span></code> component uses JavaFx UI framework. The layout of these UI parts are defined in matching <code><span class="fuchsia">.fxml</span></code> files that are in the <code><span class="fuchsia">src/main/resources/view</span></code> folder.
For example, the layout of the <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/src/main/java/seedu/finance/ui/MainWindow.java"><code><span class="blue">MainWindow</span></code></a> is specified in <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/src/main/resources/view/MainWindow.fxml"><code><span class="blue">MainWindow.fxml</span></code></a>.</p>
</div>
<div class="paragraph">
<p>The <code><span class="fuchsia">UI</span></code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code><span class="fuchsia">Logic</span></code> component.</p>
</li>
<li>
<p>Listens for changes to <code><span class="fuchsia">Model</span></code> data so that the UI can be updated with the modified data.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">3.3. Logic component</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div id="fig-LogicClassDiagram" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="700">
</div>
<div class="title">Figure 5. Structure of the Logic Component</div>
</div>
<div class="paragraph">
<p><br>
<strong>API</strong> :
<a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/src/main/java/seedu/finance/logic/Logic.java"><code><span class="blue">Logic.java</span></code></a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code><span class="fuchsia">Logic</span></code> uses the <code><span class="fuchsia">FinanceTrackerParser</span></code> class to parse the user command.</p>
</li>
<li>
<p>This results in a <code><span class="fuchsia">Command</span></code> object which is executed by the <code><span class="fuchsia">LogicManager</span></code>.</p>
</li>
<li>
<p>The command execution can affect the <code><span class="fuchsia">Model</span></code> (<span class="navy">e.g.</span> adding a record).</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code><span class="fuchsia">CommandResult</span></code> object which is passed back to the <code><span class="fuchsia">Ui</span></code>.</p>
</li>
<li>
<p>In addition, the <code><span class="fuchsia">CommandResult</span></code> object can also instruct the <code><span class="fuchsia">Ui</span></code> to perform certain actions, such as displaying
help to the user.
Given below is the Sequence Diagram for interactions within the <code><span class="fuchsia">Logic</span></code> component for the <code><span class="fuchsia">execute("delete 1")</span></code> API call.
<br></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeletePersonSdForLogic.png" alt="DeletePersonSdForLogic" width="800">
</div>
<div class="title">Figure 6. Interactions Inside the Logic Component for the <code><span class="fuchsia">delete 1</span></code> Command</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">3.4. Model component</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram" width="700">
</div>
<div class="title">Figure 7. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><br>
<strong>API</strong> : <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/src/main/java/seedu/finance/model/Model.java"><code><span class="blue">Model.java</span></code></a></p>
</div>
<div class="paragraph">
<p>The <code><span class="fuchsia">Model</span></code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code><span class="fuchsia">UserPref</span></code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the Finance Tracker data.</p>
</li>
<li>
<p>exposes an unmodifiable <code><span class="fuchsia">ObservableList&lt;Record&gt;</span></code> that can be 'observed' <span class="navy">e.g.</span> the UI can be bound to this list so
that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>does not depend on any of the other three components.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">3.5. Storage component</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram" width="700">
</div>
<div class="title">Figure 8. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><br>
<strong>API</strong> : <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/src/main/java/seedu/finance/storage/Storage.java"><code><span class="blue">Storage.java</span></code></a></p>
</div>
<div class="paragraph">
<p>The <code><span class="fuchsia">Storage</span></code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code><span class="fuchsia">UserPref</span></code> objects in json format and read it back.</p>
</li>
<li>
<p>can save the Finance Tracker data in json format and read it back.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Commons"><a class="link" href="#Design-Commons">3.6. Common classes</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p>Classes used by multiple components are in the <code><span class="fuchsia">seedu.finance.commons</span></code> package.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="implementation"><a class="link" href="#implementation">4. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br>
This section describes in detail the implementation of certain features in <em>In-Credit-Ble</em>.
<br></p>
</div>
<div class="sect2">
<h3 id="search-feature"><a class="link" href="#search-feature">4.1. Search feature</a></h3>
<div class="paragraph">
<p>This feature allows the user to filter out specific expenses based on keywords that correspond to the name, category
or date.</p>
</div>
<div class="paragraph">
<p>This implementation is under <code><span class="fuchsia">Logic</span></code> and <code><span class="fuchsia">Model</span></code> Component.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">4.1.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The search command uses predicates that implement the <code><span class="fuchsia">java.util.Predicate</span></code> interface. These predicates are
 used to filter the records that are inputted into the finance tracker. Each of these predicates contain a <code><span class="fuchsia">List&lt;String&gt;</span></code> of keywords and a <code><span class="fuchsia">test()</span></code>
command that is used to test if a record satisfy the conditions set in the predicate. These predicates are found in the <code><span class="fuchsia">Model</span></code> component.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Predicates implemented in <code><span class="fuchsia">Model</span></code> component</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types of predicate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Functions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">CategoryContainsKeywordsPredicate</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filters out records by a given category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">DateContainsKeywordsPredicate</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filters out records by a given date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">NameContainsKeywordPredicate</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filters out records with names that matches a keyword</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Below is the UML sequence diagram and a step-by-step explanation of an example usage scenario.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SearchCommandSequenceDiagram.png" alt="SearchCommandSequenceDiagram" width="800">
</div>
<div class="title">Figure 9. Sequence Diagram of Search Command</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters a search command (<span class="navy">eg.</span> <code><span class="fuchsia">search -cat food</span></code>). The command is received by the UI components and the method
<code><span class="fuchsia">LogicManger#execute()</span></code> is called.</p>
</li>
<li>
<p>The command is received by <code><span class="fuchsia">FinanceTrackerParser</span></code>, which then creates a
<code><span class="fuchsia">SearchCommandParser</span></code> Object and calls <code><span class="fuchsia">SearchCommandParser#parse()</span></code> method.</p>
</li>
<li>
<p>Depending on the <code><span class="fuchsia">-FLAG</span></code> that is entered by the user, <code><span class="fuchsia">SearchCommandParser</span></code> will create different predicates objects
that correspond to the <code><span class="fuchsia">-FLAG</span></code>.</p>
<div class="ulist">
<ul>
<li>
<p>If <code><span class="fuchsia">-cat</span></code> is inputted, <code><span class="fuchsia">CategoryContainsKeywordsPredicate</span></code> will be created.</p>
</li>
<li>
<p>If <code><span class="fuchsia">-date</span></code> is inputted, <code><span class="fuchsia">DateContainsKeywordPredicate</span></code> will be created.</p>
</li>
<li>
<p>If <code><span class="fuchsia">-name</span></code> is inputted, <code><span class="fuchsia">NameContainsKeywordPredicate</span></code> will be created.</p>
</li>
</ul>
</div>
</li>
<li>
<p>A <code><span class="fuchsia">SearchCommand</span></code> Object with the correct predicate Object as parameter is created and returned to the
<code><span class="fuchsia">FinanceTrackerParser</span></code> and then to the <code><span class="fuchsia">LogicManager</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">LogicManager</span></code> then calls <code><span class="fuchsia">SearchCommand#execute()</span></code>, which calls <code><span class="fuchsia">Model#updateFilteredExpenseList()</span></code> method
to update the predicate of <code><span class="fuchsia">FilterList&lt;Record&gt;</span></code>. <code><span class="fuchsia">FilterList&lt;Record&gt;</span></code> now contains a new set of records which is filtered
by the new predicate.</p>
</li>
<li>
<p><code><span class="fuchsia">SearchCommand</span></code> then calls <code><span class="fuchsia">getFilteredRecordList</span></code> method to access the filtered records in an
<code><span class="fuchsia">ObservableList&lt;Record&gt;</span></code> in order to calculate the sum of the money that is spent in all the filtered records.</p>
</li>
<li>
<p>Then the record list panel will show a set of records according to the keywords. A <code><span class="fuchsia">CommandResult</span></code> is then created
and returned to <code><span class="fuchsia">Logic Manager</span></code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="design-consideration"><a class="link" href="#design-consideration">4.1.2. Design Consideration</a></h4>
<div class="paragraph">
<p>This feature can be implemented in different ways in terms of how the records are found.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1</strong> : Check through all records and select those with the matched keywords based on the flag.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement without changing original architecture.</p>
</li>
<li>
<p>Cons: Slow. Tends to take a long time to search through large number of records.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong> : Each time a new category/date is called when making a record, create a new list. Each of these lists
will hold all the records that correspond to these category or dates.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Very efficient, each time the command is called, just need to retrieve the list of the wanted field.</p>
</li>
<li>
<p>Cons: Need to change the original architecture of storage to introduce storing of different list corresponding to
each tag. Will take up more space if there is many different tags.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>We have implemented <strong>Alternative 1</strong> as we want the search function to be more dynamic and more generic to
accept different kind of search in the future implementation. If we were to choose <strong>Alternative 2</strong>, the search
conditions will only be restricted to category and date where it is likely for different records to have the same
value (eg. same date or same category). However, it is not feasible to create a different list for every single name
that is inputted into the finance tracker.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="sort-feature"><a class="link" href="#sort-feature">4.2. Sort feature</a></h3>
<div class="paragraph">
<p>By default, the list of entries is ordered according to the time the entry is entered into the application,
where the entry entered first will be at the top of the list, and the entry entered last is at the bottom of the list.
The sort mechanism allows users to view their expense records in a different way.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">4.2.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The sort command uses comparators that implement <code><span class="fuchsia">java.util.Comparator</span></code> interface to provide the comparison functions.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Sort commands (default ordering)</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Comparator used</th>
<th class="tableblock halign-left valign-top">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">sort -name</span></code>, <code><span class="fuchsia">sort -name -asc</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">RecordNameComparator</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lexicographical order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">sort -amount</span></code>, <code><span class="fuchsia">sort -amount -desc</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">RecordAmountComparator</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Descending order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">sort -date</span></code>, <code><span class="fuchsia">sort -date -desc</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">RecordDateComparator</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reverse chronological order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">sort -cat</span></code>, <code><span class="fuchsia">sort -cat -asc</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">RecordCategoryComparator</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lexicographical order</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Sort commands (Specified order opposite to that of default)</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Comparator used</th>
<th class="tableblock halign-left valign-top">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">sort -name -desc</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">RecordNameComparator#reversed()</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reverse lexicographical order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">sort -amount - asc</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">RecordAmountComparator#reversed()</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ascending order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">sort -date - asc</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">RecordDateComparator#reversed()</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chronological order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">sort -cat -desc</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">RecordCategoryComparator#reversed()</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reverse lexicographical order</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Here is the list of operations involved in the execution of command, <code><span class="fuchsia">sort -name</span></code>.<br>
See Figure 10 for steps 1 to 4, and Figure 11 for steps 5 to 10.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SortSequenceDiagram1.png" alt="SortSequenceDiagram1" width="800">
</div>
<div class="title">Figure 10. Sequence Diagram of Sort Command I</div>
</div>
<div class="olist arabic text-left">
<ol class="arabic">
<li>
<p><code><span class="fuchsia">LogicManager#execute(<em>"sort -name"</em>)</span></code> calls <code><span class="fuchsia">FinanceTrackerParser#parseCommand(<em>"sort -name"</em>)</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">FinanceTracker#parseCommand(<em>"sort -name"</em>)</span></code> creates a new <code><span class="fuchsia">SortCommandParser</span></code> object and calls <code><span class="fuchsia">SortCommandParser#parse(<em>" -name"</em>)</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">SortCommandParser#parse()</span></code> creates a new <code><span class="fuchsia">RecordNameComparator()</span></code> object, <em>comparator</em> and passes it as a parameter into the <code><span class="fuchsia">SortCommand</span></code> constructor.</p>
</li>
<li>
<p>The <code><span class="fuchsia">SortCommand</span></code> object, <em>s</em>, is then passed back to the <code><span class="fuchsia">SortCommandParser</span></code>, <code><span class="fuchsia">FinanceTrackerParser</span></code>, and finally back to the <code><span class="fuchsia">LogicManager</span></code>.</p>
<div class="imageblock">
<div class="content">
<img src="images/SortSequenceDiagram2.png" alt="SortSequenceDiagram2" width="800">
</div>
<div class="title">Figure 11. Sequence Diagram of Sort Command II</div>
</div>
</li>
<li>
<p><code><span class="fuchsia">LogicManager#execute(<em>"sort -name"</em>)</span></code> then continues to call <code><span class="fuchsia">SortCommand#execute()</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">SortCommand#execute()</span></code> calls <code><span class="fuchsia">Model#SortFilteredRecordList(<em>comparator</em>)</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">Model#SortFilteredRecordList(<em>comparator</em>)</span></code> calls <code><span class="fuchsia">FinanceTracker#sortRecordList(<em>comparator</em>)</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">FinanceTracker#sortRecordList(<em>comparator</em>)</span></code> calls <code><span class="fuchsia">UniqueRecordList#sortList(<em>comparator</em>)</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">UniqueRecordList#sortList(<em>comparator</em>)</span></code> then uses <code><span class="fuchsia">FXCollection</span></code>’s static method <code><span class="fuchsia">sort()</span></code>  to sort the records.</p>
</li>
<li>
<p><code><span class="fuchsia">SortCommand#execute()</span></code> then creates a <code><span class="fuchsia">CommandResult</span></code> object and returns it back to the <code><span class="fuchsia">LogicManager</span></code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">4.2.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-sort-is-executed"><a class="link" href="#aspect-how-sort-is-executed">Aspect: How sort is executed</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use the <code><span class="fuchsia">Comparator</span></code> interface.</p>
<div class="ulist">
<ul>
<li>
<p>Pros 1: Sorting can be done based on different attributes of the records (name, amount, date, category).</p>
</li>
<li>
<p>Pros 2: Allows an alternative ordering to be applied, does not have to be the natural ordering. Therefore, dates can be sorted in reverse chronological order, and amount in descending order.</p>
</li>
<li>
<p>Cons: A new class that implements the interface <code><span class="fuchsia">Comparator</span></code> needs to be created.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use the <code><span class="fuchsia">Comparable</span></code> interface.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Type-safe with compiler as <code><span class="fuchsia">Comparable#compareTo()</span></code> only accepts object of type <code><span class="fuchsia">T</span></code>, instead of <code><span class="fuchsia">java.lang.Object</span></code>.</p>
</li>
<li>
<p>Cons 1: There can only be one form or way of sorting the records.</p>
</li>
<li>
<p>Cons 2: Uses the natural order for sorting. Therefore, dates will be sorted in chronological order, amount in ascending order, and names and categories in lexicographical order.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-how-sort-is-executed-when-code-span-class-fuchsia-order-span-code-argument-is-supplied-and-specified-order-is-opposite-to-that-of-default-span-class-navy-e-g-span-code-span-class-fuchsia-sort-name-desc-span-code"><a class="link" href="#aspect-how-sort-is-executed-when-code-span-class-fuchsia-order-span-code-argument-is-supplied-and-specified-order-is-opposite-to-that-of-default-span-class-navy-e-g-span-code-span-class-fuchsia-sort-name-desc-span-code">Aspect: How sort is executed when <code><span class="fuchsia">[ORDER]</span></code> argument is supplied and specified order is opposite to that of default. (<span class="navy">E.g.</span> <code><span class="fuchsia">sort -name -desc</span></code>)</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> A new comparator that imposes the reverse ordering of one of the four defined comparator classes is created.<br>
(<strong><span class="navy">E.g.</span></strong> To sort the list by name in reverse lexicographical order, a new comparator, <code><span class="fuchsia">RecordNameComparator#reversed()</span></code> is created.)</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: List needs to be sorted again using the new comparator. Time will be needed to compare the records in the list.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Reverse the list after sorting it using one of the four defined comparator classes.<br>
(<strong><span class="navy">E.g.</span></strong> Sort list using <code><span class="fuchsia">RecordNameComparator</span></code>. Then use the <code><span class="fuchsia">reverse</span></code> command to reverse the list.)</p>
<div class="ulist">
<ul>
<li>
<p>Pros: We can reuse what is already in the codebase (<code><span class="fuchsia">reverse</span></code> command).</p>
</li>
<li>
<p>Cons: Harder to implement, need to execute two commands internally when one command is entered in the <code><span class="fuchsia">CommandBox</span></code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reverse-feature"><a class="link" href="#reverse-feature">4.3. Reverse feature</a></h3>
<div class="paragraph">
<p>The reverse feature allows users to reverse the list of entries displayed on the graphic user interface.
The sort features are implemented with a default ordering.
The reverse command provides a convenient way for users to sort their entries in reverse order.
<br></p>
</div>
<div class="sect3">
<h4 id="current-implementation-3"><a class="link" href="#current-implementation-3">4.3.1. Current Implementation</a></h4>
<div class="paragraph">
<p>This is how the reverse command is implemented:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReverseSequenceDiagram.png" alt="ReverseSequenceDiagram" width="800">
</div>
<div class="title">Figure 12. Sequence Diagram of Reverse Command</div>
</div>
<div class="olist arabic text-left">
<ol class="arabic">
<li>
<p><code><span class="fuchsia">LogicManager#execute(<em>"reverse"</em>)</span></code> calls <code><span class="fuchsia">FinanceTrackerParser#parseCommand(<em>"reverse"</em>)</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">FinanceTrackerParser#parseCommand(<em>"reverse"</em>)</span></code> creates a <code><span class="fuchsia">ReverseCommand</span></code> object, <em>r</em>.</p>
</li>
<li>
<p><em>r</em> is passed back to the <code><span class="fuchsia">FinanceTrackerParser</span></code>, and then back to the <code><span class="fuchsia">LogicManager</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">LogicManager#execute(<em>"reverse"</em>)</span></code> then moves on to call <code><span class="fuchsia">ReverseCommand#execute()</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">ReverseCommand#execute()</span></code> calls <code><span class="fuchsia">Model#reverseFilteredRecordList()</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">Model#reverseFilteredRecordList()</span></code> calls <code><span class="fuchsia">FinanceTracker#reverseRecordList()</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">FinanceTracker#reverseRecordList()</span></code> calls <code><span class="fuchsia">UniqueRecordList#reverseList()</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">UniqueRecordList#reverseList()</span></code> uses <code><span class="fuchsia">FXCollection</span></code>’s static method <code><span class="fuchsia">reverse()</span></code> to reverse the list of records.</p>
</li>
<li>
<p><code><span class="fuchsia">ReverseCommand#execute()</span></code> then creates a <code><span class="fuchsia">CommandResult</span></code> object and returns it back to the <code><span class="fuchsia">LogicManager</span></code>.</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="undo-redo-feature"><a class="link" href="#undo-redo-feature">4.4. Undo/Redo feature</a></h3>
<div class="sect3">
<h4 id="current-implementation-4"><a class="link" href="#current-implementation-4">4.4.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by <code><span class="fuchsia">VersionedFinanceTracker</span></code>.
It extends <code><span class="fuchsia">FinanceTracker</span></code> with an undo/redo history, stored internally as a <code><span class="fuchsia">FinanceTrackerStateList</span></code> and <code><span class="fuchsia">currentStatePointer</span></code>.
Additionally, it implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><span class="fuchsia">VersionedFinanceTracker#commit()</span></code>&#8201;&#8212;&#8201;Saves the current finance tracker state in its history.</p>
</li>
<li>
<p><code><span class="fuchsia">VersionedFinanceTracker#undo()</span></code>&#8201;&#8212;&#8201;Restores the previous finance tracker state from its history.</p>
</li>
<li>
<p><code><span class="fuchsia">VersionedFinanceTracker#redo()</span></code>&#8201;&#8212;&#8201;Restores a previously undone finance tracker state from its history.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code><span class="fuchsia">Model</span></code> interface as <code><span class="fuchsia">Model#commitFinanceTracker()</span></code>, <code><span class="fuchsia">Model#undoFinanceTracker()</span></code> and <code><span class="fuchsia">Model#redoFinanceTracker()</span></code> respectively.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the undo/redo mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p><br>
<strong>Step 1.</strong><br>
The user launches the application for the first time. The <code><span class="fuchsia">VersionedFinanceTracker</span></code> will be initialized with the initial finance tracker state, and the <code><span class="fuchsia">currentStatePointer</span></code> pointing to that single finance tracker state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoStartingStateListDiagram.png" alt="UndoRedoStartingStateListDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><br>
<strong>Step 2.</strong><br>
The user executes <code><span class="fuchsia">delete 5</span></code> command to delete the 5th record in the finance tracker. The <code><span class="fuchsia">delete</span></code> command calls <code><span class="fuchsia">Model#commitFinanceTracker()</span></code>, causing the modified state of the finance tracker after the <code><span class="fuchsia">delete 5</span></code> command executes to be saved in the <code><span class="fuchsia">financeTrackerStateList</span></code>, and the <code><span class="fuchsia">currentStatePointer</span></code> is shifted to the newly inserted finance tracker state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand1StateListDiagram.png" alt="UndoRedoNewCommand1StateListDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><br>
<strong>Step 3.</strong><br>
The user executes <code><span class="fuchsia">spend n/burger &#8230;&#8203;</span></code> to add a new record. The <code><span class="fuchsia">spend</span></code> command also calls <code><span class="fuchsia">Model#commitFinanceTracker()</span></code>, causing another modified finance tracker state to be saved into the <code><span class="fuchsia">financeTrackerStateList</span></code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand2StateListDiagram.png" alt="UndoRedoNewCommand2StateListDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not call <code><span class="fuchsia">Model#commitFinanceTracker()</span></code>, so the finance tracker state will not be saved into the <code><span class="fuchsia">financeTrackerStateList</span></code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br>
<strong>Step 4.</strong><br>
The user now decides that adding the record was a mistake, and decides to undo that action by executing the <code><span class="fuchsia">undo</span></code> command. The <code><span class="fuchsia">undo</span></code> command will call <code><span class="fuchsia">Model#undoFinanceTracker()</span></code>, which will shift the <code><span class="fuchsia">currentStatePointer</span></code> once to the left, pointing it to the previous finance tracker state, and restores the finance tracker to that state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoExecuteUndoStateListDiagram.png" alt="UndoRedoExecuteUndoStateListDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code><span class="fuchsia">currentStatePointer</span></code> is at index 0, pointing to the initial finance tracker state, then there are no previous finance tracker states to restore.
The <code><span class="fuchsia">undo</span></code> command uses <code><span class="fuchsia">Model#canUndoFinanceTracker()</span></code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the undo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoSequenceDiagram.png" alt="UndoRedoSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>The <code><span class="fuchsia">redo</span></code> command does the opposite&#8201;&#8212;&#8201;it calls <code><span class="fuchsia">Model#redoFinanceTracker()</span></code>, which shifts the <code><span class="fuchsia">currentStatePointer</span></code> once to the right, pointing to the previously undone state, and restores the finance tracker to that state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code><span class="fuchsia">currentStatePointer</span></code> is at index <code><span class="fuchsia">financeTrackerStateList.size() - 1</span></code>, pointing to the latest finance tracker state, then there are no undone finance tracker states to restore. The <code><span class="fuchsia">redo</span></code> command uses <code><span class="fuchsia">Model#canRedoFinanceTracker()</span></code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the redo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br>
<strong>Step 5.</strong><br>
The user then decides to execute the command <code><span class="fuchsia">list</span></code>. Commands that do not modify the finance tracker, such as <code><span class="fuchsia">list</span></code>, will usually not call <code><span class="fuchsia">Model#commitFinanceTracker()</span></code>, <code><span class="fuchsia">Model#undoFinanceTracker()</span></code> or <code><span class="fuchsia">Model#redoFinanceTracker()</span></code>. Thus, the <code><span class="fuchsia">financeTrackerStateList</span></code> remains unchanged.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand3StateListDiagram.png" alt="UndoRedoNewCommand3StateListDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><br>
<strong>Step 6.</strong><br>
The user executes <code><span class="fuchsia">clear</span></code>, which calls <code><span class="fuchsia">Model#commitFinanceTracker()</span></code>. Since the <code><span class="fuchsia">currentStatePointer</span></code> is not pointing at the end of the <code><span class="fuchsia">financeTrackerStateList</span></code>, all finance tracker states after the <code><span class="fuchsia">currentStatePointer</span></code> will be purged. We designed it this way because it no longer makes sense to redo the <code><span class="fuchsia">spend n/burger &#8230;&#8203;</span></code> command. This is the behavior that most modern desktop applications follow.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand4StateListDiagram.png" alt="UndoRedoNewCommand4StateListDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoActivityDiagram.png" alt="UndoRedoActivityDiagram" width="650">
</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">4.4.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-undo-redo-executes"><a class="link" href="#aspect-how-undo-redo-executes">Aspect: How undo &amp; redo executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Saves the entire finance tracker.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: May have performance issues in terms of memory usage.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Will use less memory (<span class="navy">e.g.</span> for <code><span class="fuchsia">delete</span></code>, just save the record being deleted).</p>
</li>
<li>
<p>Cons: We must ensure that the implementation of each individual command are correct.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-undo-redo-commands"><a class="link" href="#aspect-data-structure-to-support-the-undo-redo-commands">Aspect: Data structure to support the undo/redo commands</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use a list to store the history of finance tracker states.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy for new Computer Science student undergraduates to understand, who are likely to be the new incoming developers of our project.</p>
</li>
<li>
<p>Cons: Logic is duplicated twice. For example, when a new command is executed, we must remember to update both <code><span class="fuchsia">HistoryManager</span></code> and <code><span class="fuchsia">VersionedFinanceTracker</span></code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use <code><span class="fuchsia">HistoryManager</span></code> for undo/redo</p>
<div class="ulist">
<ul>
<li>
<p>Pros: We do not need to maintain a separate list, and just reuse what is already in the codebase.</p>
</li>
<li>
<p>Cons: Requires dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code><span class="fuchsia">HistoryManager</span></code> now needs to do two different things.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="budget-management"><a class="link" href="#budget-management">4.5. Budget Management</a></h3>
<div class="paragraph">
<p>This group of features allows the user to set a total budget and
allocate a portion of the total budget to different categories.
The current spending will increase when records are added.</p>
</div>
<div class="paragraph">
<p>This implementation is under <code><span class="fuchsia">Logic</span></code>, <code><span class="fuchsia">Model</span></code>, <code><span class="fuchsia">Storage</span></code> and <code><span class="fuchsia">UI</span></code> Component.</p>
</div>
<div class="paragraph">
<p>The classes associated with <code><span class="fuchsia">Budget</span></code> are shown in the class diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/budget_classdiagram.png" alt="budget classdiagram" width="600">
</div>
<div class="title">Figure 13. Class Diagram for Budget</div>
</div>
<div class="paragraph">
<p>The above diagram shows the structure of the classes associated with <code><span class="fuchsia">Budget</span></code>.
<code><span class="fuchsia">TotalBudget</span></code> and <code><span class="fuchsia">CategoryBudget</span></code> are sub-classes of <code><span class="fuchsia">Budget</span></code> and <code><span class="fuchsia">TotalBudget</span></code> can contain
any number of <code><span class="fuchsia">CategoryBudget</span></code>.</p>
</div>
<div class="paragraph">
<p>As seen in the class diagram, the <code><span class="fuchsia">CategoryBudget</span></code> in <code><span class="fuchsia">TotalBudget</span></code> is kept in a <code><span class="fuchsia">HashSet</span></code>.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="setting-a-budget"><a class="link" href="#setting-a-budget">4.5.1. Setting a Budget</a></h4>
<div class="paragraph">
<p>This feature allows the user to set a budget for the FinanceTracker. The budget can be changed by setting
the budget again.</p>
</div>
<div class="paragraph">
<p>Given below is a sequence diagram and step by step explanation of how Finance Tracker
creates a budget when the user uses the <code><span class="fuchsia">set</span></code> command to set a budget.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SetSequenceDiagram.png" alt="SetSequenceDiagram" width="800">
</div>
<div class="title">Figure 14. Sequence diagram of user setting a budget</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The user enters a <code><span class="fuchsia">set command</span></code> (<span class="navy">e.g.</span> <code><span class="fuchsia">set $/120</span></code>). The command is passed down and received by the <code><span class="fuchsia">LogicManager</span></code>.</p>
</li>
<li>
<p>The <code><span class="fuchsia">LogicManger</span></code> calls the <code><span class="fuchsia">FinanceTrackerParser#ParseCommand()</span></code> method which creates a <code><span class="fuchsia">SetCommandParser</span></code>
object. The <code><span class="fuchsia">FinanceTrackerParser#ParseCommand()</span></code> method then calls the <code><span class="fuchsia">SetCommandParser#parse()</span></code> method,
passing in the amount argument entered by the user ("120" in example).</p>
</li>
<li>
<p><code><span class="fuchsia">SetCommandParser#parse()</span></code> calls <code><span class="fuchsia">ParserUtil#ParseAmount()</span></code> to handle the parsing of the amount. The method
checks if the argument is a valid amount value and throws an exception if it is not. If there are no exceptions,
<code><span class="fuchsia">ParserUtil#ParseAmount()</span></code> returns the processed amount string. <code><span class="fuchsia">SetCommandParser#parse()</span></code> then creates a
<code><span class="fuchsia">SetCommand</span></code> with the processed amount ("120" in example) and the new <code><span class="fuchsia">SetCommand</span></code> gets passed back to the
<code><span class="fuchsia">LogicManager</span></code>.</p>
</li>
<li>
<p>Now that the command is processed, <code><span class="fuchsia">LogicManager#execute()</span></code> calls <code><span class="fuchsia">SetCommand#execute()</span></code> to execute the command.
<code><span class="fuchsia">SetCommand#execute()</span></code> creates a new <code><span class="fuchsia">Budget</span></code> object initialised with the amount (budget of 120 created in example).
The <code><span class="fuchsia">Budget</span></code> object (labelled p) is then passed to the <code><span class="fuchsia">ModelManager</span></code> by the <code><span class="fuchsia">ModelManager#addBudget()</span></code> method.</p>
</li>
<li>
<p><code><span class="fuchsia">ModelManager#addBudget()</span></code> calls <code><span class="fuchsia">FinanceTracker#addBudget()</span></code> to update the budget of the current instance of the
Finance Tracker. <code><span class="fuchsia">FinanceTracker#addBudget()</span></code> updates the <code><span class="fuchsia">TotalBudget</span></code> object field (labelled q) in <code><span class="fuchsia">FinanceTracker</span></code>
by calling <code><span class="fuchsia">TotalBudget#updateBudget()</span></code> and passing the <code><span class="fuchsia">Budget p</span></code> and the records stored in the <code><span class="fuchsia">FinanceTracker</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">TotalBudget#updateBudget()</span></code> first checks whether the new budget set is more than or equal to the sum of the category budgets and throws an
 exception if it is not. It then gets the budget data (<code><span class="fuchsia">totalBudget</span></code>, <code><span class="fuchsia">currentBudget</span></code>) from <code><span class="fuchsia">Budget p</span></code> and sets it using
<code><span class="fuchsia">TotalBudget#set()</span></code> (total budget of app is now 120 in example). It then updates the current budget and spending based on
the records that was stored and passed in by the <code><span class="fuchsia">FinanceTracker</span></code>. This is shown in the code snippet below:</p>
<div class="literalblock">
<div class="content">
<pre>public void updateBudget(Budget budget, ObservableList&lt;Record&gt; records) throws
            CategoryBudgetExceedTotalBudgetException {
        Double totalCategoryBudget = 0.0;
        for (CategoryBudget cb: this.categoryBudgets) {
            totalCategoryBudget += cb.getTotalBudget();
        }
        if (budget.getTotalBudget() &lt; totalCategoryBudget) {
            throw new CategoryBudgetExceedTotalBudgetException(budget, totalCategoryBudget);
        }
        set(budget.getTotalBudget(), budget.getCurrentBudget());
        updateBudget(records);
    }</pre>
</div>
</div>
</li>
<li>
<p>Once <code><span class="fuchsia">TotalBudget q</span></code> has finished updating, control is passed all the way back to <code><span class="fuchsia">SetCommand#execute()</span></code> which will create
a <code><span class="fuchsia">CommandResult</span></code> (labelled result). The result is passed back to <code><span class="fuchsia">LogicManager#execute</span></code> and all the way to the user to show
that the budget has been set (Budget set to 120 in example).</p>
</li>
<li>
<p>Although not shown in the diagram, the UI is then updated with the new budget. The UI update of budget data will be
covered in <span class="underline blue"><a href="#updating-the-ui-with-budget-data">Section 4.5.7, &#8220;Updating the UI with Budget Data&#8221;</a></span>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="design-consideration-2"><a class="link" href="#design-consideration-2">4.5.2. Design Consideration</a></h4>
<div class="sect4">
<h5 id="aspect-updating-budget-data-after-record-updates"><a class="link" href="#aspect-updating-budget-data-after-record-updates">Aspect: Updating budget data after Record updates</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Solution 1</strong>: Maintaining one <code>updateBudget</code> method to update current expenditure and budget left based on
iterating through changed record list.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier to implement and manage a single method.</p>
</li>
<li>
<p>Cons: Updates for even single addition/edit/deletion of record could be slow if record list gets too large.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Solution 2</strong>: Maintain individual methods for each update of budget data (add/edit/remove records) (Current Implementation)</p>
<div class="ulist">
<ul>
<li>
<p>Pros: App would run updates faster with more targeted methods.</p>
</li>
<li>
<p>Cons: More code and test cases to be written to implement and maintain several methods for updating budget.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="allocating-a-budget-to-category"><a class="link" href="#allocating-a-budget-to-category">4.5.3. Allocating a budget to category</a></h4>
<div class="paragraph">
<p>This feature allows user to set a category budget after the total budget is set.</p>
</div>
<div class="paragraph">
<p>Given below is a sequence diagram and step by step explanation of how Finance Tracker
executes when a user sets a category budget.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AllocateSequenceDiagram.png" alt="AllocateSequenceDiagram" width="800">
</div>
<div class="title">Figure 15. Sequence diagram of user setting a category budget</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters command <code><span class="fuchsia">allocate $/10 c/Food</span></code>. The command is received by <code><span class="fuchsia">FinanceTrackerParser</span></code></p>
</li>
<li>
<p><code><span class="fuchsia">FinanceTrackerParser</span></code> will then create a <code><span class="fuchsia">AllocateCommandParser</span></code> Object
and calls <code><span class="fuchsia">AllocateCommandParser#parse()</span></code> method</p>
</li>
<li>
<p><code><span class="fuchsia">AllocateCommandParser#parse()</span></code> method calls <code><span class="fuchsia">ArgumentTokenizer#tokenize()</span></code> method to tokenize
the user input String into arguments and prefixes in an <code><span class="fuchsia">ArgumentMultimap</span></code> Object.</p>
</li>
<li>
<p><code><span class="fuchsia">AllocateCommandParser#parse()</span></code> method then calls another method within the same class
<code><span class="fuchsia">AllocateCommandParser#arePrefixesPresent()</span></code> to check if there are any missing prefixes.
If there are missing prefixes, <code><span class="fuchsia">ParseException</span></code> will be thrown</p>
</li>
<li>
<p>If no exceptions are thrown from the step 4, a new <code><span class="fuchsia">AllocateCommand</span></code> object is created
with the given arguments.</p>
</li>
<li>
<p>Control is returned to <code><span class="fuchsia">LogicManager</span></code> which then calls <code><span class="fuchsia">AllocateCommand#execute()</span></code> method.</p>
</li>
<li>
<p><code><span class="fuchsia">AllocateCommand#execute()</span></code> calls <code><span class="fuchsia">ModelManager#addCategoryBudget()</span></code> method and control
is transferred to <code><span class="fuchsia">ModelManager</span></code> which is in the <code><span class="fuchsia">Model</span></code> Component.</p>
</li>
<li>
<p><code><span class="fuchsia">ModelManager#addCategoryBudget()</span></code> then calls <code><span class="fuchsia">FinanceTracker#addCategoryBudget()</span></code> which then
calls <code><span class="fuchsia">TotalBudget#setNewCategoryBudget()</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">TotalBudget#setNewCategoryBudget()</span></code> takes into account if there are any previous budget
allocated to a category and if so, adds the expenses to the new budget assigned to the category.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="design-consideration-3"><a class="link" href="#design-consideration-3">4.5.4. Design consideration</a></h4>
<div class="sect4">
<h5 id="aspect-allocating-category-budget"><a class="link" href="#aspect-allocating-category-budget">Aspect: allocating Category Budget</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: Allocating Category Budget is done with only one command <code><span class="fuchsia">allocate</span></code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: User only needs to make use of one command to control the budget of the category and will
not be confused with too many other commands.</p>
</li>
<li>
<p>Cons: Requires the developer to ensure the application checks that if there is a current budget
allocated to the same category, it should be reflected accordingly.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Have two other commands <code><span class="fuchsia">increaseCatBudget</span></code> and <code><span class="fuchsia">decreaseCatBudget</span></code> to allow user
to control the budget of the category</p>
<div class="ulist">
<ul>
<li>
<p>Pros: User is able to adjust the budget by increasing/decreasing the budget and error message will be shown.
if the category was not previously allocated with a budget</p>
</li>
<li>
<p>Cons: User might be confused with too many commands and not intuitive.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="listing-category-budgets-allocated"><a class="link" href="#listing-category-budgets-allocated">4.5.5. Listing Category Budgets allocated</a></h4>
<div class="paragraph">
<p>This feature allows user to list the category budgets and the current spending in these
categories after category budgets are allocated.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">4.5.6. Implementation</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters command <code><span class="fuchsia">show</span></code> in Command Box.</p>
</li>
<li>
<p><code><span class="fuchsia">ShowCategoryBudgetCommand#execute()</span></code> is executed and the method first checks whether there are any allocated category
budgets.</p>
</li>
<li>
<p>If there are no allocated category budgets, a message will be printed in the ResultDisplay.</p>
</li>
<li>
<p>If there are allocated category budgets, <code><span class="fuchsia">Model#getCatBudget()</span></code> is called to obtain the set of <code><span class="fuchsia">CategoryBudget</span></code>.</p>
</li>
<li>
<p>An <code><span class="fuchsia">Iterator</span></code> is then used to iterate through the set of <code><span class="fuchsia">CategoryBudgets</span></code> and the <code><span class="fuchsia">currentSpending</span></code> is printed with
the <code><span class="fuchsia">totalBudget</span></code> allocated to the <code><span class="fuchsia">CategoryBudget</span></code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="updating-the-ui-with-budget-data"><a class="link" href="#updating-the-ui-with-budget-data">4.5.7. Updating the UI with Budget Data</a></h4>
<div class="paragraph">
<p>Previous sections have covered how the budget of the Finance Tracker is updated within the App. This section aims
to give a overview of the logic for updating the User Interface of the App to reflect the budget updates to the
user.</p>
</div>
<div class="paragraph">
<p>To explain the update, an Activity Diagram accompanied with a step-by-step walk-through is proved. The Activity Diagram is modelled after <code><span class="fuchsia">MainWindow#execute()</span></code> which calls the appropriate
methods to update the budget UI.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/BudgetUiUpdateActivityDiagram.png" alt="BudgetUiUpdateActivityDiagram">
</div>
<div class="title">Figure 16. Activity diagram of the UI being updated after budget data changes</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The command is first executed by the <code><span class="fuchsia">LogicManager</span></code>. The execution of commands will update the budget data
in the Finance Tracker as specified in previous sections. The success message of the command is then displayed to the user
(Result of command that user typed).</p>
</li>
<li>
<p>There is then a conditional check on whether the command has changed the budget data (Based on <code><span class="fuchsia">CommandResult</span></code>
passed back from command execution). For brevity and based on the scope of the section, the other conditional checks
for the command will be excluded.
List of Commands that change budget: <code><span class="fuchsia">spend</span></code>, <code><span class="fuchsia">edit</span></code>, <code><span class="fuchsia">delete</span></code>, <code><span class="fuchsia">set</span></code>, <code><span class="fuchsia">allocate</span></code>, <code><span class="fuchsia">clear</span></code>, <code><span class="fuchsia">setfile</span></code>, <code><span class="fuchsia">undo</span></code>, <code><span class="fuchsia">redo</span></code></p>
</li>
<li>
<p>When it has been determined that the command has altered budget data, 3 components of the <code><span class="fuchsia">UI</span></code> need to be updated before
continuing. If you are unfamiliar with the components of the <code><span class="fuchsia">UI</span></code>, refer to the
<a href="https://github.com/CS2103-AY1819S2-W17-3/main/blob/master/docs/UserGuide.adoc#graphical-user-interface-introduction"><span class="blue">Graphical User Interface</span></a> section of our User Guide.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong>BudgetPanel</strong>:
The <code><span class="fuchsia">BudgetPanel</span></code> consists of 2 sections, the Budget Bar and the text below the bar. The bar and text is updated with
data retrieved from the <code><span class="fuchsia">Logic</span></code> component of the App, with the changes to Budget Bar being animated. The colour of
the bar is then set based on the difference in current spending and total budget set (Red: Budget Exceeded, Yellow: Spending is
&gt;= 80% of budget, Green: Spending is &lt;80% of budget).</p>
</li>
<li>
<p><strong>Browser Panel</strong>:
The <code><span class="fuchsia">BrowserPanel</span></code> only contains text and is updated similar to the text in the BudgetPanel.</p>
</li>
<li>
<p><strong>Summary Panel</strong>:
The <code><span class="fuchsia">SummaryPanel</span></code> consists of a pie chart. If the updated budget data shows no expense recorded within the specified time period,
text explaining that there is no recorded expenses is shown to the user instead. Else, the summary data is updated and the pie
chart is edited to reflect changes in the expenditures. Refer to <span class="underline blue"><a href="#summary">Section 4.6, &#8220;Summary&#8221;</a></span> for a more detailed explanation of the implementation
of the feature.</p>
</li>
</ol>
</div>
</li>
<li>
<p>After the <code><span class="fuchsia">UI</span></code> is updated, there is another check to see if the command given was <code><span class="fuchsia">summary</span></code>. If it was, the current Panel being
displayed (<code><span class="fuchsia">BrowserPanel</span></code> or <code><span class="fuchsia">SummaryPanel</span></code>) is swapped to the other panel. Again, refer to the Summary section below for more implementation
details.</p>
</li>
<li>
<p>The method ends by returning the <code><span class="fuchsia">CommandResult</span></code> that was returned from the execution of command to the <code><span class="fuchsia">MainApp</span></code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2 text-justify">
<h3 id="summary"><a class="link" href="#summary">4.6. Summary</a></h3>
<div class="paragraph">
<p>The <code><span class="fuchsia">summary</span></code> feature shows an overview of your previous expenditures in a pie chart. Each sector of the chart represents a category, labelled with the name and total expenditure for each category.</p>
</div>
<div class="paragraph">
<p>You can also set a report period by indicating the number of days or months. Specifying a report period is optional. If no parameters are defined, data of expenditures in the past week (ie. the last <code><span class="fuchsia">7</span></code> days) will be displayed in the pie chart by default.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">4.6.1. Implementation</a></h4>
<div class="paragraph">
<p>The implementation of the <code><span class="fuchsia">Summary</span></code> command can be divided into two phases – preparation and execution. Given below is an explanation of how the summary mechanism behaves at each phase.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect4">
<h5 id="preparation"><a class="link" href="#preparation">Preparation</a></h5>
<div class="paragraph">
<p>In the preparation phase, the application will parse the command. Below is the UML Sequence diagram and a step-by-step explanation of the preparation stage.
<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SummarySequenceDiagram.png" alt="SummarySequenceDiagram" width="800">
</div>
<div class="title">Figure 17. Sequence diagram of the preparation stage in the summary mechanism</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User first enters the command <code><span class="fuchsia">summary #/7 p/d</span></code>. This command is received by <code><span class="fuchsia">FinanceTrackerParser</span></code>, which then calls <code><span class="fuchsia">SummaryCommandParser#parse()</span></code> to create <code><span class="fuchsia">SummaryCommand</span></code>.</p>
</li>
<li>
<p>If no parameters are provided by the user, <code><span class="fuchsia">SummaryCommand#SummaryCommand()</span></code> is called to create <code><span class="fuchsia">SummaryCommand</span></code> with the default parameters of <code><span class="fuchsia">periodAmount</span></code> as <code><span class="fuchsia">7</span></code> and <code><span class="fuchsia">period</span></code> as <code><span class="fuchsia">d</span></code>. Otherwise, <code><span class="fuchsia">SummaryCommand#SummaryCommand(periodAmount, period)</span></code> is called to create <code><span class="fuchsia">SummaryCommand</span></code> with the specified parameters.</p>
</li>
<li>
<p><code><span class="fuchsia">SummaryCommand</span></code> then checks if the parameters are valid. If any parameter is invalid, an exception will be thrown, and an error message will be shown to the user. Else, the parameters are stored in instance variables and <code><span class="fuchsia">SummaryCommand</span></code> is returned to <code><span class="fuchsia">LogicManager</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">LogicManager</span></code> then calls <code><span class="fuchsia">SummaryCommand#execute()</span></code>, which updates the variables <code><span class="fuchsia">RecordSummaryPredicate</span></code>, <code><span class="fuchsia">summaryPeriod</span></code> and <code><span class="fuchsia">periodAmount</span></code> in <code><span class="fuchsia">ModelManager</span></code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="execution"><a class="link" href="#execution">Execution</a></h5>
<div class="paragraph">
<p>In the execution phase, the program handles <code><span class="fuchsia">ShowSummaryRequestEvent</span></code> posted by <code><span class="fuchsia">SummaryCommand</span></code> to retrieve the data to be displayed. The data will be rendered as a JavaFX <code><span class="fuchsia">PieChart</span></code> and then displayed. Below is the UML sequence diagram and a step-by-step explanation of the execution stage.
<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SummarySequenceDiagram2.png" alt="SummarySequenceDiagram2" width="800">
</div>
<div class="title">Figure 18. Sequence diagram of the execution stage in the summary mechanism</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code><span class="fuchsia">handleShowSummary</span></code> will be handled by <code><span class="fuchsia">MainWindow#handleShowSummary()</span></code>, which will call <code><span class="fuchsia">SummaryPanel#setData()</span></code> and pass the data as parameters by calling <code><span class="fuchsia">Logic#getRecordSummary()</span></code>, <code><span class="fuchsia">Logic#getSummaryPeriod()</span></code>  and <code><span class="fuchsia">Logic#getPeriodAmount()</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">Logic#getRecordSummary()</span></code> gets the filtered record list by calling <code><span class="fuchsia">Model#getRecordSummary()</span></code>, which returns an unmodifiable <code><span class="fuchsia">ObservableList</span></code>, containing only expenses in the last 7 days.</p>
</li>
<li>
<p><code><span class="fuchsia">Logic#getRecordSummary()</span></code> then organises the data into a <code><span class="fuchsia">LinkedHashMap&lt;String, Double&gt;</span></code>, where the key value pair represents category and cost.</p>
</li>
<li>
<p><code><span class="fuchsia">Logic#getSummaryPeriod()</span></code>  and <code><span class="fuchsia">Logic#getPeriodAmount()</span></code> get their respective data by calling the method of the same name in <code>Model</code>.</p>
</li>
<li>
<p>Once the parameters are passed into <code><span class="fuchsia">SummaryPanel#setData()</span></code>, <code><span class="fuchsia">StackPane#getChildren()#clear()</span></code> is called to clear any display elements in <code><span class="fuchsia">StackPane</span></code>. JavaFX’s <code><span class="fuchsia">PieChart</span></code> is then used to render the summary pie chart. There are two possible scenarios which could happen:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>If the data received is empty, a <code><span class="fuchsia">Text</span></code> object is generated and <code><span class="fuchsia">StackPane#getChildren()#add()</span></code> is called, which informs the user that there are no expenditures.</p>
</li>
<li>
<p>Else, <code><span class="fuchsia">SummaryPanel#setSummaryData()</span></code> will be called, which generates a Pie Chart and calls <code><span class="fuchsia">StackPane#getChildren()#add()</span></code>, which adds it to <code><span class="fuchsia">StackPane</span></code>. This is shown in the code snippet below:</p>
<div class="literalblock">
<div class="content">
<pre>public void setSummaryData(LinkedHashMap&lt;String, Double&gt; summaryData) {
        PieChart pieChart = new PieChart();
        Set&lt;String&gt; keySet = summaryData.keySet();
        for (String s : keySet) {
            pieChart.getData().add(new PieChart.Data(s, summaryData.get(s)));
        }
        for (int i = 0; i &lt; pieChart.getData().size(); i++) {
            PieChart.Data data = pieChart.getData().get(i);
            data.getNode().getStyleClass().add(getPieChartColorStyleFor(data.getName()));
            data.nameProperty().bind(Bindings.concat(data.getName(), " - $",
                                    String.format("%.2f", data.getPieValue())));
        }
        pieChart.setLegendSide(Side.BOTTOM);
        chartArea.getChildren().add(pieChart);
}</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
</div>
<div class="sect3 text-justify">
<h4 id="design-consideration-4"><a class="link" href="#design-consideration-4">4.6.2. Design Consideration</a></h4>
<div class="sect4">
<h5 id="aspect-representation-for-summary-of-expenditure"><a class="link" href="#aspect-representation-for-summary-of-expenditure">Aspect: Representation for Summary of Expenditure</a></h5>
<div class="paragraph">
<p><strong>Alternative 1 (current choice)</strong>: Represent summary of expenses using a pie chart.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/summaryPanel.png" alt="summaryPanel" width="450">
</div>
<div class="title">Figure 19. Current Implementation of Summary Panel using JavaFX&#8217;s <code><span class="fuchsia">PieChart</span></code></div>
</div>
<div class="ulist">
<ul>
<li>
<p>Pros: Labels can act as a legend as well as there might be categories with similar colours. This will help the user to easily identify the expenditures in different categories.</p>
</li>
<li>
<p>Cons: If there are too many categories, the labels may not show up as it will clash with the other labels. The data presented may also become too cluttered as well.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Alternative 2 (planned for <code><span class="yellow">[v2.0]</span></code>)</strong>: Represent summary of expenses using an Aster Plot graph.</p>
</div>
<div class="paragraph">
<p>In <code><span class="yellow">v2.0</span></code> of <em>In-Credit-Ble</em>, the summary feature intends to use a <span class="fuchsia">D3.js Aster Plot</span> graph to display the summary of expenditures instead of the current pie chart. This will help contribute to the aesthetics and user-friendliness of displaying the data in <em>In-Credit-Ble</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/asterPlot.png" alt="asterPlot" width="200">
</div>
<div class="title">Figure 20. Example of Aster Plot Graph</div>
</div>
<div class="paragraph">
<p>Each sector of the chart represents a category. The area of each sector indicates the total budget amount allocated for a particular category, while the coloured area of the sector denotes the amount spent for that category. On mouseover of each sector, a pop-up display of the category name and amount spent for each category will be shown. The colours used for the category in the aster plot graph should also correspond to the same colour palette used for the category labels.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pros: More effective in showing the user what is the remaining budget amount for each category. It also allows users to easily perceive whether their spending is within their budget for each category.</p>
</li>
<li>
<p>Cons: Difficult to implement as it requires linking to D3, a third party JavaScript library for data visualisations via HTML, SVG, and CSS.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="theme"><a class="link" href="#theme">4.7. Theme</a></h3>
<div class="paragraph">
<p>The <code><span class="fuchsia">theme</span></code> feature allows users to change the colour theme of the application to provide
them with some customisation.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">4.7.1. Implementation</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters command <code><span class="fuchsia">theme COLOUR</span></code> in Command Box, where <code><span class="fuchsia">COLOUR</span></code> is either <code><span class="fuchsia">dark</span></code>, <code><span class="fuchsia">light</span></code>, <code><span class="fuchsia">blue</span></code> or <code><span class="fuchsia">pink</span></code>.</p>
</li>
<li>
<p><code><span class="fuchsia">ThemeCommand#formatTheme()</span></code> is executed to change the user input of <code><span class="fuchsia">COLOUR</span></code> to a word that has
first character in uppercase and the rest of the characters in lowercase.</p>
</li>
<li>
<p><code><span class="fuchsia">ThemeCommand#isValidTheme()</span></code> is then used to check if the <code><span class="fuchsia">COLOUR</span></code> is one of the four specified above.</p>
</li>
<li>
<p><code><span class="fuchsia">ThemeCommand</span></code> then returns a <code><span class="fuchsia">CommandResult</span></code> that sets the boolean field <code><span class="fuchsia">changeTheme</span></code> to true.</p>
</li>
<li>
<p><code><span class="fuchsia">MainWindow#handleSwitchTheme()</span></code> is then executed to call the appropriate method to switch the theme of the application
to the user-specified input.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">4.8. Logging</a></h3>
<div class="paragraph">
<p>We are using <code><span class="fuchsia">java.util.logging</span></code> package for logging. The <code><span class="fuchsia">LogsCenter</span></code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code><span class="fuchsia">logLevel</span></code> setting in the configuration file (See <span class="underline blue"><a href="#Implementation-Configuration">Section 4.9, &#8220;Configuration&#8221;</a></span>).</p>
</li>
<li>
<p>The <code><span class="fuchsia">Logger</span></code> for a class can be obtained using <code><span class="fuchsia">LogsCenter.getLogger(Class)</span></code> which will log messages according to the specified logging level.</p>
</li>
<li>
<p>Currently log messages are output through: <code><span class="fuchsia">Console</span></code> and to a <code><span class="fuchsia">.log</span></code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br>
<strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><span class="fuchsia">SEVERE</span></code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code><span class="fuchsia">WARNING</span></code> : Can continue, but with caution</p>
</li>
<li>
<p><code><span class="fuchsia">INFO</span></code> : Information showing noteworthy actions by the application</p>
</li>
<li>
<p><code><span class="fuchsia">FINE</span></code> : Details that is not usually noteworthy but may be useful in debugging <span class="navy">e.g.</span> print the actual list instead of just its size
<br></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Implementation-Configuration"><a class="link" href="#Implementation-Configuration">4.9. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (<span class="navy">e.g.</span> user prefs file location, logging level) through the configuration file (default: <code><span class="fuchsia">config.json</span></code>).</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">5. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br>
We use asciidoc for writing documentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We chose asciidoc over Markdown because asciidoc, although a bit more complex than Markdown, provides more flexibility in formatting.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="sect2 text-justify">
<h3 id="editing-documentation"><a class="link" href="#editing-documentation">5.1. Editing Documentation</a></h3>
<div class="paragraph">
<p><br>
See <a href="UsingGradle.html#rendering-asciidoc-files"><span class="blue">UsingGradle.adoc</span></a> to learn how to render <code><span class="fuchsia">.adoc</span></code> files locally to preview the end result of your edits.
Alternatively, you can download the AsciiDoc plugin for IntelliJ, which allows you to preview the changes you have made to your <code><span class="fuchsia">.adoc</span></code> files in real-time.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="publishing-documentation"><a class="link" href="#publishing-documentation">5.2. Publishing Documentation</a></h3>
<div class="paragraph">
<p><br>
See <a href="UsingTravis.html#deploying-github-pages"><span class="blue">UsingTravis.adoc</span></a> to learn how to deploy GitHub Pages using Travis.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="converting-documentation-to-pdf-format"><a class="link" href="#converting-documentation-to-pdf-format">5.3. Converting Documentation to PDF format</a></h3>
<div class="paragraph">
<p><br>
We use <a href="https://www.google.com/chrome/browser/desktop"><span class="blue">Google Chrome</span></a> for converting documentation to PDF format, as Chrome&#8217;s PDF engine preserves hyperlinks used in webpages.</p>
</div>
<div class="paragraph">
<p>Here are the steps to convert the project documentation files to PDF format.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the instructions in <a href="UsingGradle.html#rendering-asciidoc-files"><span class="blue">UsingGradle.adoc</span></a> to convert the AsciiDoc files in the <code><span class="fuchsia">docs/</span></code> directory to HTML format.</p>
</li>
<li>
<p>Go to your generated HTML files in the <code><span class="fuchsia">build/docs</span></code> folder, right click on them and select <span class="menuseq"><b class="menu">Open With</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Google Chrome</b></span>.</p>
</li>
<li>
<p>Within Chrome, click on the <b class="button">Print</b> option in Chrome&#8217;s menu.</p>
</li>
<li>
<p>Set the destination to <b class="button">Save as PDF</b>, then click <b class="button">Save</b> to save a copy of the file in PDF format. For best results, use the settings indicated in the screenshot below.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/chrome_save_as_pdf.png" alt="chrome save as pdf" width="300">
</div>
<div class="title">Figure 21. Saving project documentation files to PDF format</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="Docs-SiteWideDocSettings"><a class="link" href="#Docs-SiteWideDocSettings">5.4. Site-wide Documentation Settings</a></h3>
<div class="paragraph">
<p><br>
The <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/build.gradle"><code><span class="blue">build.gradle</span></code></a> file specifies some project-specific <a href="https://asciidoctor.org/docs/user-manual/#attributes"> <em class="blue">asciidoc attributes</em></a> which affects how all documentation files within this project are rendered.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Attributes left unset in the <code><span class="fuchsia">build.gradle</span></code> file will use their <strong>default value</strong>, if any.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. List of site-wide attributes</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 50%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">site-name</span></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The name of the website.
If set, the name will be displayed near the top of the page.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">site-githuburl</span></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>URL to the site&#8217;s repository on <a href="https://github.com"><span class="blue">GitHub</span></a>.
Setting this will add a "View on GitHub" link in the navigation bar.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">site-seedu</span></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Define this attribute if the project is an official SE-EDU project.
This will render the SE-EDU navigation bar at the top of the page, and add some SE-EDU-specific navigation items.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="Docs-PerFileDocSettings"><a class="link" href="#Docs-PerFileDocSettings">5.5. Per-file Documentation Settings</a></h3>
<div class="paragraph">
<p><br>
Each <code><span class="fuchsia">.adoc</span></code> file may also specify some file-specific <a href="https://asciidoctor.org/docs/user-manual/#attributes"><em class="blue">asciidoc attributes</em></a> which affects how the file is rendered.</p>
</div>
<div class="paragraph">
<p>Asciidoctor&#8217;s <a href="https://asciidoctor.org/docs/user-manual/#builtin-attributes"><em class="blue">built-in attributes</em></a> may be specified and used as well.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Attributes left unset in <code><span class="fuchsia">.adoc</span></code> files will use their <strong>default value</strong>, if any.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. List of per-file attributes, excluding Asciidoctor&#8217;s built-in attributes</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 50%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">site-section</span></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Site section that the document belongs to.
This will cause the associated item in the navigation bar to be highlighted.
One of: <code><span class="fuchsia">UserGuide</span></code>, <code><span class="fuchsia">DeveloperGuide</span></code>, <code><span class="fuchsia">LearningOutcomes</span></code>*, <code><span class="fuchsia">AboutUs</span></code>, <code><span class="fuchsia">ContactUs</span></code></p>
</div>
<div class="paragraph">
<p><em>* Official SE-EDU projects only</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="fuchsia">no-site-header</span></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Set this attribute to remove the site navigation bar.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="site-template"><a class="link" href="#site-template">5.6. Site Template</a></h3>
<div class="paragraph">
<p><br>
The files in <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/docs/stylesheets"><code><span class="blue">docs/stylesheets</span></code></a> are the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS"><span class="blue">CSS stylesheets</span></a> of the site.
You can modify them to change some properties of the site&#8217;s design.</p>
</div>
<div class="paragraph">
<p>The files in <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/docs/templates"><code><span class="blue">docs/templates</span></code></a> controls the rendering of <code><span class="fuchsia">.adoc</span></code> files into HTML5.
These template files are written in a mixture of <a href="https://www.ruby-lang.org"><span class="blue">Ruby</span></a> and <a href="http://slim-lang.com"><span class="blue">Slim</span></a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Modifying the template files in <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/docs/templates"><code><span class="blue">docs/templates</span></code></a> requires some knowledge and experience with Ruby and Asciidoctor&#8217;s API.
You should only modify them if you need greater control over the site&#8217;s layout than what stylesheets can provide.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="Testing"><a class="link" href="#Testing">6. Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br></p>
</div>
<div class="sect2">
<h3 id="running-tests"><a class="link" href="#running-tests">6.1. Running Tests</a></h3>
<div class="paragraph">
<p><br>
There are three ways to run tests.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The most reliable way to run tests is the 3rd one. The first two methods might fail some GUI tests due to platform/resolution-specific idiosyncrasies.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br>
<strong>Method 1: Using IntelliJ JUnit test runner</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To run all tests, right-click on the <code><span class="fuchsia">src/test/java</code></span> folder and choose <code><span class="fuchsia">Run 'All Tests'</span></code>.</p>
</li>
<li>
<p>To run a subset of tests, you can right-click on a test package, test class, or a test and choose <code><span class="fuchsia">Run 'ABC'</span></code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br>
<strong>Method 2: Using Gradle</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a console and run the command <code><span class="fuchsia">gradlew clean allTests</span></code> (Mac/Linux: <code><span class="fuchsia">./gradlew clean allTests</span></code>).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="UsingGradle.html"><span class="blue">UsingGradle.adoc</span></a> for more info on how to run tests using Gradle.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br>
<strong>Method 3: Using Gradle (headless)</strong></p>
</div>
<div class="paragraph">
<p>Thanks to the <a href="https://github.com/TestFX/TestFX"><span class="blue">TestFX</span></a> library we use, our GUI tests can be run in the <em>headless</em> mode. In the headless mode, GUI tests do not show up on the screen. That means the developer can do other things on the Computer while the tests are running.</p>
</div>
<div class="paragraph">
<p>To run tests in headless mode, open a console and run the command <code><span class="fuchsia">gradlew clean headless allTests</span></code> (Mac/Linux: <code>./<span class="fuchsia">gradlew clean headless allTests</span></code>).</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="types-of-tests"><a class="link" href="#types-of-tests">6.2. Types of tests</a></h3>
<div class="paragraph">
<p><br>
We have two types of tests:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>GUI Tests</strong> - These are tests involving the GUI. They include,</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>System Tests</em> that test the entire application by simulating user actions on the GUI. These are in the <code><span class="fuchsia">systemtests</span></code> package.</p>
</li>
<li>
<p><em>Unit tests</em> that test the individual components. These are in <code><span class="fuchsia">seedu.finance.ui</span></code> package.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Non-GUI Tests</strong> - These are tests not involving the GUI. They include,</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>Unit tests</em> targeting the lowest level methods/classes.<br>
<span class="navy">e.g.</span> <code><span class="fuchsia">seedu.finance.commons.StringUtilTest</span></code></p>
</li>
<li>
<p><em>Integration tests</em> that are checking the integration of multiple code units (those code units are assumed to be working).<br>
<span class="navy">e.g.</span> <code><span class="fuchsia">seedu.finance.storage.StorageManagerTest</span></code></p>
</li>
<li>
<p>Hybrids of unit and integration tests. These test are checking multiple code units as well as how the are connected together.<br>
<span class="navy">e.g.</span> <code><span class="fuchsia">seedu.finance.logic.LogicManagerTest</span></code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting-testing"><a class="link" href="#troubleshooting-testing">6.3. Troubleshooting Testing</a></h3>
<div class="paragraph">
<p><br>
<strong>Problem: <code><span class="fuchsia">HelpWindowTest</span></code> fails with a <code><span class="fuchsia">NullPointerException</span></code>.</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reason: One of its dependencies, <code><span class="fuchsia">HelpWindow.html</span></code> in <code><span class="fuchsia">src/main/resources/docs</span></code> is missing.</p>
</li>
<li>
<p>Solution: Execute Gradle task <code><span class="fuchsia">processResources</span></code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="dev-ops"><a class="link" href="#dev-ops">7. Dev Ops</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br></p>
</div>
<div class="sect2">
<h3 id="build-automation"><a class="link" href="#build-automation">7.1. Build Automation</a></h3>
<div class="paragraph">
<p><br>
See <a href="UsingGradle.html"><span class="blue">UsingGradle.adoc</span></a> to learn how to use Gradle for build automation.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="continuous-integration"><a class="link" href="#continuous-integration">7.2. Continuous Integration</a></h3>
<div class="paragraph">
<p><br>
We use <a href="https://travis-ci.org"><span class="blue">Travis CI</span></a> and <a href="https://www.appveyor.com"><span class="blue">AppVeyor</span></a> to perform <em>Continuous Integration</em> on our projects. See <a href="UsingTravis.html"><span class="blue">UsingTravis.adoc</span></a> and <a href="UsingAppVeyor.html"><span class="blue">UsingAppVeyor.adoc</span></a> for more details.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="coverage-reporting"><a class="link" href="#coverage-reporting">7.3. Coverage Reporting</a></h3>
<div class="paragraph">
<p><br>
We use <a href="https://coveralls.io"><span class="blue">Coveralls</span></a> to track the code coverage of our projects. See <a href="UsingCoveralls.html"><span class="blue">UsingCoveralls.adoc</span></a> for more details.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="documentation-previews"><a class="link" href="#documentation-previews">7.4. Documentation Previews</a></h3>
<div class="paragraph">
<p><br>
When a pull request has changes to asciidoc files, you can use <a href="https://www.netlify.com"><span class="blue">Netlify</span></a> to see a preview of how the HTML version of those asciidoc files will look like when the pull request is merged. See <a href="UsingNetlify.html"><span class="blue">UsingNetlify.adoc</span></a> for more details.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="making-a-release"><a class="link" href="#making-a-release">7.5. Making a Release</a></h3>
<div class="paragraph">
<p><br>
Here are the steps to create a new release.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update the version number in <a href="https://github.com/CS2103-AY1819S2-W17-3/main/tree/master/src/main/java/seedu/address/MainApp.java"><code><span class="blue">MainApp.java</span></code></a>.</p>
</li>
<li>
<p>Generate a JAR file <a href="UsingGradle.html#creating-the-jar-file"><span class="blue">using Gradle</span></a>.</p>
</li>
<li>
<p>Tag the repo with the version number. <span class="navy">e.g.</span> <code><span class="fuchsia">v0.1</span></code></p>
</li>
<li>
<p><a href="https://help.github.com/articles/creating-releases"><span class="blue">Create a new release using GitHub</span></a> and upload the JAR file you created.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="managing-dependencies"><a class="link" href="#managing-dependencies">7.6. Managing Dependencies</a></h3>
<div class="paragraph">
<p><br>
A project often depends on third-party libraries. For example, <em>In-Credit-Ble</em> depends on the <a href="https://github.com/FasterXML/jackson"><span class="blue">Jackson library</span></a> for JSON parsing. Managing these <em>dependencies</em> can be automated using Gradle. For example, Gradle can download the dependencies automatically, which is better than these alternatives:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Include those libraries in the repo (this bloats the repo size)</p>
</li>
<li>
<p>Require developers to download those libraries manually (this creates extra work for developers)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br>
<strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>has a need to manage a significant amount of expenses/finances</p>
</li>
<li>
<p>has a need to be more aware of his/her spending habits/patterns</p>
</li>
<li>
<p>can type fast</p>
</li>
<li>
<p>prefers typing over mouse input</p>
</li>
<li>
<p>is reasonably comfortable using CLI applications</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br>
<strong>Value proposition</strong>: Manage expenses faster than a typical mouse/GUI driven application</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="user-stories"><a class="link" href="#user-stories">8. User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br>
Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 25%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see usage instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to it when I forget how to use the application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a record of my recent expenses (day, week, month, category)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be more aware of where I am spending my money</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a new entry</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete an entry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove an entry that is no longer needed anymore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">categorise my expenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be aware of what I am spending most of my money on</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to set a budget (a total for the month and for which category)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be more thrifty in terms of my expenditure</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">summarise my daily spending in a pictorial form</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily see how on track I am in adhering to my budget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">locate a specific entry easily</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recall how much I spent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">save my data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to it when I use the application next time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort my expenses in terms of amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be aware of what costs the most</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set daily budgets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">limit the amount I spend each day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">analyse my spending habits/patterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">derive a savings plan and better plan my expenses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">spendthrift user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">receive tips to be a better saver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be more aware of different ways to keep within my budget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IT savvy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">categorise my expenses based on the different methods of payment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">automatically track my cashless expenditures as well as credit card transactions</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="use-cases"><a class="link" href="#use-cases">9. Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br>
(For all use cases below, the <strong>System</strong> is <code><span class="fuchsia">In-Credit-Ble</span></code> and the <strong>User</strong> is the <code><span class="fuchsia">user</span></code>, unless specified otherwise)</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<h3 id="use-case-setting-a-budget-for-the-month" class="discrete">Use case: Setting a budget for the month</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>User</em> requests to set a budget for the current month</p>
</li>
<li>
<p><em>System</em> displays current budget amount for the month</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. With addition of expense entries, <em>System</em> updates the remaining amount in the current month&#8217;s budget</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<h3 id="use-case-allocate-budget-to-a-category" class="discrete">Use case: Allocate budget to a category</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>User</em> requests to list summary of budget based on category</p>
</li>
<li>
<p><em>System</em> shows a summary of budget based on category</p>
</li>
<li>
<p><em>User</em> requests to allocate a certain amount to a category</p>
</li>
<li>
<p><em>System</em> allocates the user input amount to the given category</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
<h3 id="use-case-increasing-budget-for-the-month" class="discrete">Use case: Increasing budget for the month</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>User</em> requests to list entries</p>
</li>
<li>
<p><em>System</em> shows a list of expense entries</p>
</li>
<li>
<p><em>User</em> requests to increase budget for the month (can be associated with a category)</p>
</li>
<li>
<p><em>System</em> will increase the budget for the month (that is associated with category input)</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
<h3 id="use-case-add-expense-entry" class="discrete">Use case: Add expense entry</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>User</em> requests to list entries</p>
</li>
<li>
<p><em>System</em> shows a list of expense entries</p>
</li>
<li>
<p><em>User</em> requests to add a specific expense entry in the list</p>
</li>
<li>
<p><em>System</em> adds the expense entry</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>3a. Some fields are missing.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. <em>System</em> shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
<h3 id="use-case-editing-an-expense-entry" class="discrete">Use case: Editing an expense entry</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>User</em> requests to list expense entries</p>
</li>
<li>
<p><em>System</em> shows a list of expense entries</p>
</li>
<li>
<p><em>User</em> requests to edit a specific expense entry in the list</p>
</li>
<li>
<p><em>System</em> updates the expense entry as well as the budget summary accordingly</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>3a. The given index is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. <em>System</em> shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.
<br></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-delete-expense-entry" class="discrete">Use case: Delete expense entry</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>User</em> requests to list expense entries</p>
</li>
<li>
<p><em>System</em> shows a list of expense entries</p>
</li>
<li>
<p><em>User</em> requests to delete a specific expense entry in the list</p>
</li>
<li>
<p><em>System</em> deletes the entry</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. The given index is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. <em>System</em> shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<h3 id="use-case-listing-history-of-entered-commands" class="discrete">Use case: Listing history of entered commands</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>User</em> requests to list history of entered commands</p>
</li>
<li>
<p><em>System</em> shows history of commands in reverse chronological order (latest command first)</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. There was no entered commands</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<h3 id="use-case-user-wants-to-undo-previous-command" class="discrete">Use case: User wants to undo previous command</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>User</em> requests to undo previous command</p>
</li>
<li>
<p><em>System</em> undo previous command and updates budget accordingly</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. There was no previous command</p>
<div class="paragraph">
<p>Use case ends with message to let <em>User</em> know there is no previous command</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
<h3 id="use-case-user-wants-to-redo-previous-undone-command" class="discrete">Use case: User wants to redo previous undone command</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>User</em> requests to redo previous undone command</p>
</li>
<li>
<p><em>System</em> redo previous undone command and updates budget accordingly</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. There was no previous undone command</p>
<div class="paragraph">
<p>Use case ends with message to let <em>User</em> know there is no previous undone command</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<h3 id="use-case-user-wants-to-clear-all-entries" class="discrete">Use case: User wants to clear all entries</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>User</em> requests to clear all entries</p>
</li>
<li>
<p><em>System</em> clears all entries and updates the budget accordingly</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. There are no entries in the <em>System</em></p>
<div class="paragraph">
<p>Use case ends with message to let <em>User</em> know there are no entries in <em>System</em></p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">10. Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code><span class="fuchsia">9</span></code> or higher installed.</p>
</li>
<li>
<p>Should work on both 32-bit and 64-bit environments.</p>
</li>
<li>
<p>Should be able to hold up to 1000 expenditure records without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p>The user interface should be intuitive and easy to use for people who are not IT-savvy.</p>
</li>
<li>
<p>Responses by the system should be fast (~5 seconds).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="glossary"><a class="link" href="#glossary">11. Glossary</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Amount</dt>
<dd>
<p>The amount of money for expenditure and budget</p>
</dd>
<dt class="hdlist1">Entry</dt>
<dd>
<p>A listed item/activity tracked by the application.  It generally consists of the name, amount and date along with a
category tag (if specified)</p>
</dd>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, Unix, OS-X</p>
</dd>
<dt class="hdlist1">Records</dt>
<dd>
<p>The list of all entries stored in the application</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="product-survey"><a class="link" href="#product-survey">12. Product Survey</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br>
<strong><span class="fuchsia">Monefy - Money Manager</span></strong></p>
</div>
<div class="paragraph">
<p>Author: Aimbity AS</p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Interface is easy to use</p>
</li>
<li>
<p>Able to track expenses and income over various periods of time</p>
</li>
<li>
<p>Free</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Unable to synchronise and restore or backup data between devices</p>
</li>
<li>
<p>Do not have an auto-income function</p>
</li>
<li>
<p>Do not have an option for reminder</p>
</li>
<li>
<p>Do not have a feature for recurrent spending</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong><span class="fuchsia">Money Lover: Expense Tracker &amp; Budget Planner</span></strong></p>
</div>
<div class="paragraph">
<p><br>
Author: Finsify</p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allows setting of recurring payments</p>
</li>
<li>
<p>Able to see what expenses add up to in the forthcoming months</p>
</li>
<li>
<p>Able to sync across phone and computer</p>
</li>
<li>
<p>Able to download to own excel worksheet</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Need to make a budget for every wallet</p>
</li>
<li>
<p>Unable to choose multiple categories for a budget</p>
</li>
<li>
<p>Unable to edit a transaction</p>
</li>
<li>
<p>Budgets are based per account</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br>
<strong><span class="fuchsia">Seedly - Personal Finance App</span></strong></p>
</div>
<div class="paragraph">
<p>Author: Seedly Pte Ltd</p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Visually appealing</p>
</li>
<li>
<p>Able to import transactions from ibanking accounts and allow manual inputs for cash transactions</p>
</li>
<li>
<p>Pie charts give a visual illustration on expenditure</p>
</li>
<li>
<p>Search function present</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sync feature takes a long time</p>
</li>
<li>
<p>Crash every now and then</p>
</li>
<li>
<p>Categories are hard to identify in pie charts</p>
</li>
<li>
<p>Not smart enough to recognise similar entries</p>
</li>
<li>
<p>Summary presented is confusing</p>
</li>
<li>
<p>Unable to add in sub-categories to further pinpoint area of spending</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 text-justify">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">13. Instructions for Manual Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><br>
Given below are instructions to test the application manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These instructions only provide a starting point for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="sect2">
<h3 id="launch-and-shutdown"><a class="link" href="#launch-and-shutdown">13.1. Launch and Shutdown</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the <span class="fuchsia">JAR</span> file and copy into an empty folder.</p>
</li>
<li>
<p>Double-click the <span class="fuchsia">JAR</span> file.<br>
Expected: Shows the <span class="fuchsia">GUI</span> with a set of sample records. The window size may not be optimum.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Saving window preferences</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Resize the window to an optimum size. Move the window to a different location. Close the window.</p>
</li>
<li>
<p>Re-launch the application by double-clicking the <span class="fuchsia">JAR</span> file.<br>
Expected: The most recent window size and location is retained.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="setting-a-budget-2"><a class="link" href="#setting-a-budget-2">13.2. Setting a budget</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Setting a initial budget</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code><span class="fuchsia">set $/500</span></code><br>
Expected: The budget is set to $500. The Budget Panel and Browser Panel are updated accordingly.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">set $/500.50</span></code><br>
Expected: The budget is changed to $500.50. The Budget Panel and Browser Panel are updated accordingly.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">set 500</span></code><br>
Expected: The budget is not changed. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">set $/$500</span></code><br>
Expected: The budget is not changed. Error details shown in status message about amount.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">set $/-1</span></code><br>
Expected: Similar to previous.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">set $/0</span></code><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="allocating-category-budgets-and-showing-allocated-category-budgets"><a class="link" href="#allocating-category-budgets-and-showing-allocated-category-budgets">13.3. Allocating category budgets and showing allocated category budgets</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Allocating category budget (no spending in category; we assume that total budget set is $500)</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code><span class="fuchsia">allocate $/50 c/Shopping</span></code>, then <code><span class="fuchsia">show</span></code><br>
Expected: Category Budget is allocated in <code><span class="fuchsia">Shopping</span></code> category. Result Display shows current spending over budget.
for allocated category budgets</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">allo $/30 c/Transport</span></code>, then <code><span class="fuchsia">show</span></code><br>
Expected: Category Budget is allocated in <code><span class="fuchsia">Transport</span></code> category. Result Display shows current spending over budget.
for allocated category budgets</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">allocate $/30 c/Books c/Movies</span></code>, then <code><span class="fuchsia">show</span></code><br>
Expected: Category Budget allocated in <code><span class="fuchsia">Movies</span></code> category. Result Display current spending over budget.
for allocated category budgets</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">allocate $/$30 c/Holiday</span></code><br>
Expected: Category Budget not allocated. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">allocate $/30 c/Holiday In Melbourne</span></code><br>
Expected: Category Budget not allocated. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">allocate $/600 c/School</span></code><br>
Expected: Category Budget not allocated. Category Budget more than Total budget. Error details in status message.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Allocating category budget (previously had spending in the category)<br>
Assume that <code><span class="fuchsia">Food</span></code> category has $16.50 spent so far</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code><span class="fuchsia">allocate $/17 c/Food</span></code><br>
Expected: Category Budget allocated in Food category. Result Display shows current spending over budget for allocated
category budgets.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">allocate $/10 c/Food</span></code><br>
Expected: Category Budget not allocated. Current Spending in category more than user input for category budget.
Error details shown in status message.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="adding-an-expense"><a class="link" href="#adding-an-expense">13.4. Adding an expense</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adding an entry no matter what is listed.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code><span class="fuchsia">spend n/Chicken Rice $/5.50 c/Food d/1/4/2019 r/Tasty</span></code><br>
Expected: Entry is added to the back of the list. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">spend n/Tshirt $/10.00 d/31/03/2019 c/Food c/Clothes</span></code><br>
Expected: Entry is added to the back of the list. Category recorded down is Clothes. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">spend n/Chicken Rice $/5.50 c/Food</span></code><br>
Expected: Entry is added to the back of the list. Since date is not supplied, today’s date will be recorded.
Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">add n/Chicken Rice $/5.50 c/Food</span></code><br>
Expected: Entry is added to the back of the list. Since date is not supplied, today’s date will be recorded.
Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">spend n/Chicken Rice $/5.50</span></code><br>
Expected: No entry is added. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect spend commands to try: <code><span class="fuchsia">spend n/Chicken Rice c/Food</span></code>, <code><span class="fuchsia">spend $.5.50 c/Food</span></code>, <code><span class="fuchsia">spend n/Chicken Rice $/5.5 c/Food</span></code>,
<code><span class="fuchsia">spend n/Chicken Rice $/5.50 c/Food d/12/12/2045</span></code>, <code><span class="fuchsia">spend n/Chicken Rice $/$5.50 c/Food</span></code><br>
Expected: Similar to previous</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="editing-an-expense"><a class="link" href="#editing-an-expense">13.5. Editing an expense</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit an entry while all entries are listed</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all entries using the <code><span class="fuchsia">list</span></code> command. The list must have some entries in it.</p>
</li>
<li>
<p>Editing one parameter of an entry.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code><span class="fuchsia">edit 1 n/test</span></code><br>
Expected: The name of the first entry is being changed to test. Time stamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">edit 1 d/01/02/2003</span></code><br>
Expected: The date of the first entry is being changed to 01/02/2003. Time stamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">edit 1 $/100</span></code><br>
Expected: The amount spent of the first entry is changed to $100. The budget shown in the budget panel and the
browser panel is updated. Time stamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">edit 1 c/Test</span></code><br>
Expected: The category of the first entry is changed to Test. Time stamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">edit 1 r/Testing testing</span></code><br>
Expected: The description of the first entry is changed to "Testing testing". Time stamp in the status bar is updated.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Editing more than one parameter of an entry</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code><span class="fuchsia">edit 1 n/test1 $/123</span></code><br>
Expected: The first entry is being changed based on the command. The budget shown in the budget panel and the
browser panel is updated. Time stamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">edit 1 n/test2 $/1234 d/01/01/2001</span></code><br>
Expected: Similar to previous.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">edit 1 n/test3 $/12345 d/01/01/2002 c/Test1</span></code><br>
Expected: Similar to previous.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">edit 1 n/test4 $/123456 d/01/01/2003 c/Test2 r/Testing test</span></code><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Removing description for an entry</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Prerequisites: The first entry of the list must have a description.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">edit 1 r/</span></code><br>
Expected: The description for the first entry is removed.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Invalid command due to index</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code><span class="fuchsia">edit 0 n/test</span></code><br>
Expected: No entry is edited. Error details shown in the status message. Status bar remains the same.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Invalid command due to parameters</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code><span class="fuchsia">edit 1 $/test</span></code><br>
Expected: No entry is added. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect edit commands to try: <code><span class="fuchsia">edit 1 d/01/01/2045</span></code>, <code><span class="fuchsia">edit 1 $/$100</span></code>,
<code><span class="fuchsia">edit 1 r/12345678901234567890123456789012345678901</span></code>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="deleting-an-entry"><a class="link" href="#deleting-an-entry">13.6. Deleting an entry</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deleting an entry while all entries are listed.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all entries using the <code><span class="fuchsia">list</span></code> command. Multiple entries in the list.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">delete 1</span></code><br>
Expected: First entry is deleted from the list. Details of the deleted entry shown in the status message. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">delete 0</span></code><br>
Expected: No entry is deleted. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect delete commands to try: <code><span class="fuchsia">delete</span></code>, <code><span class="fuchsia">delete x</span></code> (where x is larger than the list size), <code><span class="fuchsia">delete three</span></code><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="searching-an-entry"><a class="link" href="#searching-an-entry">13.7. Searching an entry</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In order for the expected results of the test to be accurate, please input the following commands below to set up your
finance tracker.<br>
1. <code><span class="fuchsia">clear</span></code><br>
2. <code><span class="fuchsia">spend n/Chicken Rice $/5.50 c/Food d/1/4/2019</span></code><br>
3. <code><span class="fuchsia">spend n/Chicken Rice $/5.50 c/Food d/2/4/2019</span></code><br>
4. <code><span class="fuchsia">spend n/Cupcakes $/2.50 c/Food d/2/4/2019</span></code><br>
5. <code><span class="fuchsia">spend n/Tshirt $/15 c/Clothes d/1/4/2019</span></code><br>
6. <code><span class="fuchsia">spend n/Jeans $/40 c/Clothes d/2/4/2019</span></code>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Searching for an entry or entries in a list.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: There must already be entries that are shown in the record list panel. Please set up the finance
tracker as shown in the <span class="fuchsia">NOTE</span> above.</p>
</li>
<li>
<p>Search by name</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code><span class="fuchsia">search -name chicken rice</span></code><br>
Expected: 2 records are shown in the records list panel. The result display shows that the total spent on the
searched records is $11.00.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">search -name chicken</span></code><br>
Expected: Same as previous.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Search by category</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code><span class="fuchsia">search -cat clothes</span></code><br>
Expected: 2 records are shown in the records list panel. The result display shows that the total spent on the
searched records is $55.00.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Search by date</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code><span class="fuchsia">search -date 2/4/2019</span></code><br>
Expected: 3 records are shown in the records list panel. The result display shows that the total spent on the
searched records is $48.00.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">search -date 5/4/2019</span></code><br>
Expected: 0 records are shown in the records list panel. The result display shows that the total spent on the
searched records is $0.00.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Search with no records shown</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>No matches in the keywords: <code><span class="fuchsia">search -date 5/4/2019</span></code><br>
Expected: 0 records are shown in the records list panel. The result display shows that the total spent on the
searched records is $0.00.</p>
</li>
<li>
<p>No parameters inputted after the search flag: <code><span class="fuchsia">search -date</span></code><br>
Expected: Same as previous.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Invalid search command</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code><span class="fuchsia">search -cat -date</span></code>
Expected: Error message is shown. The records list panel remains the same.</p>
</li>
<li>
<p>Other incorrect search commands to try: <code><span class="fuchsia">search -food</span></code>, <code><span class="fuchsia">search -cat -food</span></code>, <code><span class="fuchsia">search -cat -date -name</span></code>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="sorting-the-entries"><a class="link" href="#sorting-the-entries">13.8. Sorting the entries</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sort entries by name</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List must have some entries in it.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">sort -name</span></code><br>
Expected: List is sorted by name in lexicographical order. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">sort -name -desc</span></code><br>
Expected: List is sorted by name in reverse lexicographical order. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">sort -name -asc</span></code><br>
Expected: List is sorted by name in lexicographical order. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">sort -asc -name</span></code><br>
Expected: List will not be sorted. Error message is shown. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect sort commands to try: <code><span class="fuchsia">sort -desc -name</span></code>, <code><span class="fuchsia">sort -name -inc</span></code>, <code><span class="fuchsia">sort -name -asc a-z</span></code><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Sort entries by amount</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List must have some entries in it.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">sort -amount</span></code><br>
Expected: List is sorted by amount in descending order. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">sort -amount -asc</span></code><br>
Expected: List is sorted by amount in ascending order. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">sort -amount -desc</span></code><br>
Expected: List is sorted by amount in descending order. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">sort -asc -amount</span></code><br>
Expected: List will not be sorted. Error message is shown. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect sort commands to try: <code><span class="fuchsia">sort -desc -amount</span></code>, <code><span class="fuchsia">sort -amount -inc</span></code>, <code><span class="fuchsia">sort -name -amount</span></code><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="obtaining-a-summary-of-entries"><a class="link" href="#obtaining-a-summary-of-entries">13.9. Obtaining a summary of entries</a></h3>
<div class="paragraph">
<p><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Entering <code><span class="fuchsia">summary</span></code> command when <em>In-Credit-Ble</em> is empty.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: No existing entries in <em>In-Credit-Ble</em>.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">summary</span></code><br>
Expected: Error message is shown.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">summary #/6 p/d</span></code><br>
Expected: Error message is shown.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">summary #/10 p/m</span></code><br>
Expected: Error message is shown.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Entering <code><span class="fuchsia">summary</span></code> command when there are entries listed in the records list panel.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: There is at least one entry that exists in the specified report period.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">summary</span></code><br>
Expected: Entries that have been entered in <em>In-Credit-Ble</em> in the past 7 days will be displayed in the pie chart.
          A success message will also be displayed in the result box.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">summary #/9 p/d</span></code><br>
Expected: Entries that have been entered in <em>In-Credit-Ble</em> in the past 9 days will be displayed in the pie chart.
          A success message will also be displayed in the result box.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">summary #/5 p/m</span></code><br>
Expected: Entries that have been entered in <em>In-Credit-Ble</em> in the past 5 months will be displayed in the pie chart.
          A success message will also be displayed in the result box.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>On the other hand, if there are no existing entries in the specified report period (but <em>In-Credit-Ble</em> has other existing entries):</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code><span class="fuchsia">summary #/9 p/m</span></code><br>
Expected: Error message is shown.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-finance-tracker-data-storage-location"><a class="link" href="#changing-the-finance-tracker-data-storage-location">13.10. Changing the Finance Tracker data storage location</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In order to test this command, please take note the name of the <span class="fuchsia">json</span> file you are currently on. The name of the file can
be seen at the right side of the status bar. By default, the json file is "<span class="fuchsia">finance.json</span>".
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Changing the file when the filename does not belong to a file that exists or the file is wrongly formatted.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: The filename does not belong to an existing <span class="fuchsia">json</span> file with stored Finance Tracker data. The user is currently using <span class="fuchsia">finance.json</span> file.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">setfile f/testfile</span></code><br>
Expected: A new finance tracker file will be created with no records in the records list and the budget will be shown
as $0.00.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Changing the file when the filename belongs to a file with existing data added by the <em>In-Credit-Ble</em>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: The filename belongs to a file that already exists with data added by <em>In-Credit-Ble</em> or data that is correctly formatted.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">setfile f/testfile</span></code><br>
Expected: The data previously added to <span class="fuchsia">testfile.json</span> will be loaded into <em>In-Credit-Ble</em>.</p>
</li>
<li>
<p>Test case: <code><span class="fuchsia">setfile f/finance</span></code><br>
Expected: No apparent change as the same file the user is currently on will be loaded again.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-04-15 15:54:47 UTC</div></div></div></body></html>